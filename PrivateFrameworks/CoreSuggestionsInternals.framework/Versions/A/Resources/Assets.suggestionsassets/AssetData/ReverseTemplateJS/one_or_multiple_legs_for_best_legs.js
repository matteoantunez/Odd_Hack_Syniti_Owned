(function(){return function(e,t,r,n){e.sort(function(e,t){return t.candidateScore-e.candidateScore});var i=!1;if(-1!==Object.keys(n.flightMultipleLegs).indexOf(r)&&(i=!0),!(e=e.filter(i?function(e){return e.candidateScore>2}:function(e){return e.requiredCandidateScore>0&&e.candidateScore>2}))||0==e.length)return[];if(e&&1==e.length)return e;if(!i)return e[0].candidateScore==e[1].candidateScore?[]:[e[0]];var c,a=0,d=550;c=t.previous(new RegExp("[\\s\\S]{"+d+"}")).toString()+t.next(new RegExp("[\\s\\S]{"+d+"}")).toString();for(var o=0;o<n.flightMultipleLegs[r].length&&!a;o++)a=c.match(n.flightMultipleLegs[r][o]);if(a){var u=2===a.length?a[1]:1;return e=e.slice(0,u+1)}return e[0].candidateScore!==e[1].candidateScore?[e[0]]:[]}}).call();