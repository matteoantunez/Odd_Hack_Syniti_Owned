(function(){return function(e,r,t,a){var i=Scanner.fromMessage(e);i.setLocale(r);var n,o,p,s,m,g,u=i.getSpan(),l=[],c=[];return n=u.innerCapture(regExpFormatted(/\1 (.*)/,t.reservationId_prefix),1).toString().trim(),s=u.next(t.checkinUrl_prefix).nextLink(),u.allInnerTags("tr5").filter(function(e){var r=e.tagContents().toString();return 0!==r.length&&(r.indexOf("Depart ")>-1||r.indexOf("Arrive in")>-1)}).forEach(function(e){var r,a,n,o,p,s,c,h,d,v,f,C,N="Southwest Airlines",T="WN";""!==(e=e.allInnerTags("td5"))[0].tagContents().toString()&&(m=g=e[0].tagContents()),r=e[1].tagContents(),n=/(?:Depart|Change planes to.*in)\s(.*)\s\((.*)\).*at\s(.*)/.exec(e[2].toString()),s=n[1],c=n[2],o=n[3],h=/Arrive in\s(.*)\s\((.*)\)\s.*at\s(.*)\s\s\n/.exec(e[2].toString()),f=h[1],C=h[2],d=h[3],p=getFuzzyDate(i.getDetachedSpan(m+" "+o).firstDate()),v=getFuzzyDate(i.getDetachedSpan(g+" "+d).firstDate()),u.next(t.passengers_prefix).parentTag("table3").allInnerTags("tr4").filter(function(e){var r=e.allInnerTags("td4");return!(1!==r.length||!/.*\/.*/.exec(r[0].tagContents().toString().trim()))}).forEach(function(e){var t=e.tagContents();l.push({airlineName:N,airlineCode:T,flightNumber:r,departureDateTime:p,departureAirport:s,departureAirportCode:c,arrivalDateTime:v,arrivalAirport:f,arrivalAirportCode:C,ticketNumber:a,underPersonName:t})})}),l.forEach(function(e){ASSERT(e.departureDateTime,e.arrivalDateTime,e.departureAirportCode,e.arrivalAirportCode),c.push({"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:e.airlineName,airlineCode:e.airlineCode,flightNumber:e.flightNumber,departureAirportFuzzy:e.departureAirport,departureAirportCode:e.departureAirportCode,departureTime:e.departureDateTime,arrivalAirportFuzzy:e.arrivalAirport,arrivalAirportCode:e.arrivalAirportCode,arrivalTime:e.arrivalDateTime},underName:{"@type":"http://schema.org/Person",name:e.underPersonName},checkinUrl:s,reservationId:n,reservationStatus:"http://schema.org/Reservation"+a,totalPrice:o,priceCurrency:p,reservedTicket:{"@type":"http://schema.org/Ticket",ticketNumber:e.ticketNumber,ticketedSeat:{"@type":"http://schema.org/Seat",seatNumber:e.seatNumber,seatingType:e.seatType}},programMembershipUsed:{"@type":"http://schema.org/ProgramMembership",membershipNumber:e.membershipNumber,programName:e.programName}})}),c.length>=1?c:CONTINUE}}).call();