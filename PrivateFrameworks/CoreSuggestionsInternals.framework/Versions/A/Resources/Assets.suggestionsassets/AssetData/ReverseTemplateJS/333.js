new ReverseTemplateList([new ReverseTemplate("zipcar.com-important-change-en",function(e){return/^Important change to your Zipcar reservation/.test(e.subject)},function(e){if(!/^Important change to your Zipcar reservation/.test(e.subject))return CONTINUE;var t,r,n,a,i,o,s,p,c,h,d,g,m,l,u,v,S,f,C,T,y=Scanner.fromMessage(e);y.setLocale("en_US");var R=/\b(?:The|These|This) Zip(?:cars?|vans?) (?:are|is) (?:located|parked) (?:in (?:a|the)|in|at|on) ([\s\S]*?)\./;return t=y.getSpan().innerCapture(/\bHi (.*),/,1),c=y.getSpan().innerCapture(/\bYour new reservation is for\s+(.*?) at/,1),g=y.getSpan(),valid(g)&&(1===(r=g.allDates()).length?(T=y.getDateDD(r[0]).iso8601,v=y.getDateDD(r[0]).endIso8601):r.length>1&&(T=r[0],v=r[r.length-1]),g.innerAddress().exists()?(f=g.innerAddress(),S=g.innerCapture(R,1)):f=g.innerCapture(R,1),valid(v)&&(l=f,m=S)),ASSERT(t,c,f,T)?[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:s,priceCurrency:p,reservationId:n,reservationStatus:"http://schema.org/ReservationConfirmed",checkinUrl:a,modifyReservationUrl:i,cancelReservationUrl:o,underName:{"@type":"http://schema.org/Person",name:t},provider:{"@type":"http://schema.org/Organization",name:"Zipcar"},reservationFor:{"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:c},license:h,color:d},pickupTime:T,pickupLocation:{"@type":"http://schema.org/Place",name:S,telephone:C,address:f},dropoffTime:v,dropoffLocation:{"@type":"http://schema.org/Place",name:m,telephone:u,address:l}}]:void 0},"SG8e39e289"),new ReverseTemplate("zipcar.com-reservation-reminder-en",function(e){return/^ZIPCAR:\s+You\s+reserved/.test(e.subject)},function(e){if(!/^ZIPCAR:\s+You\s+reserved/.test(e.subject))return CONTINUE;var t,r,n,a,i,o,s,p,c,h,d,g,m,l,u,v,S,f,C=Scanner.fromMessage(e);if(C.setLocale("en_US"),!C.getSpan().nextText("Thanks for reserving").exists())return CONTINUE;var T=/(?:\b(?:The|These|This) Zip(?:cars?|vans?) (?:are|is) (?:located|parked) (?:in (?:a|the)|in|at|on) ([\s\S]*?)\.|Need to change or cancel)/;return t=C.getSpan().innerCapture(/\bHi (.*),/,1),(a=C.getSpan().next(/(?:View|check out) your reservation confirmation/).nextLink())&&(n=a.innerCapture(/reservation_id=(\d+)/,1)),(h=C.getSpan().innerCapture(/you .+ reservation with ($<brand>.*?)(?: \(($<license>\w+)\))? on ($<date>.*)\./))&&(s=h.$brand,p=h.$license,h.$date,h=C.getSpan().withInterval(C.getSpan().nextRegExp(/(\bYou've got a trip coming up!|This is a reminder)/).getStart(),C.getSpan().nextRegExp(T).getEnd())),v=C.getSpan().innerCapture(/Location: (.*)/,1),valid(h)&&(1===(r=h.allDates()).length?(f=C.getDateDD(r[0]).iso8601,l=C.getDateDD(r[0]).endIso8601):r.length>1&&(f=r[0],l=r[r.length-1]),v.exists()?v.innerAddress().exists()&&(v=v.innerAddress()):h.innerAddress().exists()?(v=h.innerAddress(),u=h.innerCapture(T,1)):v=h.innerCapture(T,1),valid(l)&&(g=v,d=u)),ASSERT(t,s,v,f)?[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:i,priceCurrency:o,reservationId:n,reservationStatus:"http://schema.org/ReservationConfirmed",underName:{"@type":"http://schema.org/Person",name:t},provider:{"@type":"http://schema.org/Organization",name:"Zipcar"},reservationFor:{"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:s},license:p,color:c},pickupTime:f,pickupLocation:{"@type":"http://schema.org/Place",name:u,telephone:S,address:v},dropoffTime:l,dropoffLocation:{"@type":"http://schema.org/Place",name:d,telephone:m,address:g}}]:void 0},"SG18a25cfa"),new ReverseTemplate("zipcar.com-upcoming-reservation-en",function(e){return/^ZIPCAR: /.test(e.subject)},function(e){if(!/^ZIPCAR: /.test(e.subject))return CONTINUE;var t,r,n,a,i,o,s,p,c,h,d,g,m,l,u,v,S,f,C,T,y=Scanner.fromMessage(e);if(y.setLocale("en_US"),!y.getSpan().nextText("To see your reservation confirmation visit").exists())return CONTINUE;var R=/\b(?:The|These|This) Zip(?:cars?|vans?) (?:are|is) (?:located|parked) (?:in (?:a|the)|in|at|on) ([\s\S]*?)\./;return t=y.getSpan().innerCapture(/\b(?:Hi|Hello) (.*),/,1),(i=y.getSpan().nextText("To see your reservation confirmation visit").nextLink())&&(n=i.innerCapture(/reservation_id=(\d+)/,1)),(g=y.getSpan().innerCapture(/\bZip(?:van|car) reservation on ($<brand>.*) from (?:.*) from ($<date>.*)\./))&&(c=g.$brand,g=y.getSpan().withInterval(y.getSpan().nextRegExp(/\bThis(?: email)? is a reminder/).getStart(),y.getSpan().nextRegExp(R).getEnd())),valid(g)&&(1===(r=g.allDates()).length?(T=y.getDateDD(r[0]).iso8601,v=y.getDateDD(r[0]).endIso8601):r.length>1&&(T=r[0],y.getDateDD(v=r[r.length-1]).endIso8601.length&&(v=y.getDateDD(v).endIso8601)),g.innerAddress().exists()?(f=g.innerAddress(),S=g.innerCapture(R,1)):f=g.innerCapture(R,1),valid(v)&&(l=f,m=S)),ASSERT(t,n,c,f,T)?[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:s,priceCurrency:p,reservationId:n,reservationStatus:"http://schema.org/ReservationConfirmed",checkinUrl:a,modifyReservationUrl:i,cancelReservationUrl:o,underName:{"@type":"http://schema.org/Person",name:t},provider:{"@type":"http://schema.org/Organization",name:"Zipcar"},reservationFor:{"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:c},license:h,color:d},pickupTime:T,pickupLocation:{"@type":"http://schema.org/Place",name:S,telephone:C,address:f},dropoffTime:v,dropoffLocation:{"@type":"http://schema.org/Place",name:m,telephone:u,address:l}}]:void 0},"SGdf31d6e9")]);