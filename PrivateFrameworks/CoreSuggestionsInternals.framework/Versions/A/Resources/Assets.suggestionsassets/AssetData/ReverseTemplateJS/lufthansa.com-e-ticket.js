(function(){return function(e,t,r){function a(){ASSERT(v.airlineCode,v.flightNumber,v.departureDate,v.arrivalDate,v.departureAirport,v.arrivalAirport)&&(C.push(v),v={})}function n(e){return e.trim().toString().replace(/\n/g," ").replace(/\s+/g," ")}e.plain=e.plain.replace(new RegExp(String.fromCharCode("0x200b"),"g"),"");var i=Scanner.fromMessage(e);i.setLocale(t);var g,o,p,l,s,d,m,u,x,h,C=[],T=i.getSpan().nextText(r.reservationCodePrefix).parentTag("td2").tagContents().innerCapture(regExpFormatted(/\1\n(\w+)/,r.reservationCodePrefix),1).trim(),c=i.getSpan().next(r.passengerNamePrefix).nextTag("td5").tagContents().trim(),f=i.getSpan().nextText(r.ticketNumberPrefix).nextTag("td5").tagContents().innerCapture(/(.*)</,1).trim();g=i.getSpan().next(r.passengerNamePrefix).withEnd(i.getSpan().next(r.baggageRegulations).getStart()).allInnerTags("table1");for(var v={},N=0;N<g.length;N++){o=(p=g[N].innerText(r.reservationColumnHeader).nextTag("td1")).nextTag("td1").tagContents().innerCapture(regExpFormatted(/($<airlineCode>\w{2}) ($<flightNumber>\d+)\n\1\n($<airlineName>.+)/,r.operatedByPrefix)),v.airlineCode=o.$airlineCode.trim(),v.flightNumber=o.$flightNumber.trim(),v.airlineName=o.$airlineName.trim(),l=(d=p.nextTag("td1").nextTag("td1").tagContents().allDates())[0],s=0===d.length?l=p.nextTag("td1").nextTag("td1").tagContents():d.length>1?d[1]:d[0],u=(m=(h=(x=p.nextTag("td1").nextTag("td1").nextTag("td1").tagContents()).nextTag("td1").tagContents()).nextTag("td1").tagContents()).nextTag("td1").tagContents(),v.seatingType=u.nextTag("td1").tagContents().innerCapture(/(.*)/,1),v.seatNumber=u.nextTag("td1").tagContents().innerCapture(regExpFormatted(/\1:(.*)/,r.seatPrefix),1).trim().toString(),v.departureDate=i.getDetachedSpan(l.toString().replace(".","")+" "+m).innerDate(),v.arrivalDate=i.getDetachedSpan(s.toString().replace(".","")+" "+u).innerDate(),v.departureAirport=n(x),v.arrivalAirport=n(h),a()}for(var S=[],b=0;b<C.length;b++){var y=C[b];S.push({"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:y.airlineName,airlineCode:y.airlineCode,flightNumber:y.flightNumber,departureAirportFuzzy:y.departureAirport,departureTime:y.departureDate,arrivalAirportFuzzy:y.arrivalAirport,arrivalTime:y.arrivalDate},underName:{"@type":"http://schema.org/Person",name:c},reservationId:T,reservationStatus:"http://schema.org/ReservationConfirmed",reservedTicket:{"@type":"http://schema.org/Ticket",ticketNumber:f,ticketedSeat:{"@type":"http://schema.org/Seat",seatNumber:y.seatNumber,seatingType:y.seatingType}}})}return S}}).call();