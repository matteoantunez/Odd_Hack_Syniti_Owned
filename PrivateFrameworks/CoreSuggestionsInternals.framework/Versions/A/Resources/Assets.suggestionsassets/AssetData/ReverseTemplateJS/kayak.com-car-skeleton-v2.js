(function(){return function(e,t,n){var a,r,i,o,p,c,d,g,s,l,m,u,f,h,T,x=Scanner.fromMessage(e);x.setLocale(t),n.cancelled.test(e.subject)&&(i="Cancelled"),r=x.getSpan().next(n.confirmationNumber).previousRegExp(/[A-Z\d]{8,12}/),(a=x.getSpan().next(n.name).nextTag("td5").nextTag("td5").tagContents()).next(n.email).nextTag("td5").nextTag("td5").tagContents(),o=x.getSpan().next(n.price).nextTag("td4").nextTag("td4").innerCapture(/([\d,.]{2,})/,1);var S=(m=x.getSpan().next(n.pickup).parentAnyTag("table")).allInnerTagsFiltered("td5").filter(function(e){return!/Serviced By/.test(e.getString())});T=combineDateAndTime(m.innerDate(),S[1].innerCapture(/(\d{1,2}:\d{1,2})/,1)),p=S[2],u=S[3],f=S[4]+", "+S[5],h=S[6].innerCapture(/\+(.*)/,1),l=(c=x.getSpan().next(n.dropoff).parentAnyTag("table")).innerDate();var v=c.allInnerTagsFiltered("td5").filter(function(e){return!/Serviced By/.test(e.getString())});if(d=v[3],l=combineDateAndTime(l,v[1].innerCapture(/(\d{1,2}:\d{1,2})/,1)),g=v[4]+", "+v[5],s=v[6].innerCapture(/\+(.*)/,1),ASSERT(p,a,f,T))return[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:o,reservationId:r,reservationStatus:"http://schema.org/Reservation"+(i||"Confirmed"),underName:{"@type":"http://schema.org/Person",name:a},provider:{"@type":"http://schema.org/Organization",name:p},pickupTime:T,pickupLocation:{"@type":"http://schema.org/Place",name:u,telephone:h,address:f},dropoffTime:l,dropoffLocation:{"@type":"http://schema.org/Place",name:d,telephone:s,address:g}}]}}).call();