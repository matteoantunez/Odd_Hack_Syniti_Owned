(function(){return function(e){var t=loadHelper("generic_common.js")(e,"tickets");if(!t||t===STOP)return STOP;var a,s,r,i,l,o,d,n,p,c,m,u,v,g,_=t[0],j=t[1],H=t[2],h=loadHelper("bail.js");if(a=loadHelper("name.js")(e.subject,j,H,e).trim(),!(r=loadHelper("starttime.js")(j,H,e,a)).exists()&&h(j,H,"noDateBail"))return STOP;if(s=loadHelper("reservationid.js")(j,H,e.subject,e.url),g=loadHelper("reservation_id_domain_whitelist.js"),"Cancelled"===_?g.includes(e.domain)?ASSERT({sg_validate:a,sg_description:"eventName"}):ASSERT({sg_validate:s,sg_description:"reservationId"},{sg_validate:a,sg_description:"eventName"}):g.includes(e.domain)?ASSERT({sg_validate:r,sg_description:"startTime"},{sg_validate:a,sg_description:"eventName"}):ASSERT({sg_validate:r,sg_description:"startTime"},{sg_validate:a,sg_description:"eventName"},{sg_validate:s,sg_description:"reservationId"})){if(i=loadHelper("endtime.js")(j,H,r),loadHelper("date_duration_should_bail.js")(j,H,r,i,"tickets"))return STOP;if(n=loadHelper("undername.js")(e.to,j,H),o=loadHelper("place.js")(j,H,a,e.subject,null,"tickets"),d=loadHelper("address.js")(j,H,e,a,n,o),l={"@type":"http://schema.org/Place",name:o=o&&!o.exists()&&d.exists()?loadHelper("place_from_address.js")(j,H,d):o,address:d},loadHelper("isVirtual.js")(a,o,d,j,H)||loadHelper("virtual_domain_allowlist.js").includes(e.domain)){l={"@type":"http://schema.org/VirtualLocation",url:loadHelper("streamLink.js")(H,j,e)};var S=loadHelper("meetingInfo.js")(j,H);S[0],S[1]}u=loadHelper("ticketnumber.js")(j,H),loadHelper("price.js")(j,H).exists()?loadHelper("pricecurrency.js")(j,H):null;var T=!1;return T=loadHelper("shouldtableextractseatinfo.js")(j,H),c=loadHelper("seatsection.js")(j,H,T),p=loadHelper("seatrow.js")(j,H,T),[{"@context":"http://schema.org","@type":"http://schema.org/EventReservation",reservationId:s,reservationStatus:"http://schema.org/Reservation"+_,url:v,underName:{"@type":"http://schema.org/Person",name:n},reservationFor:{"@type":"http://schema.org/Event",name:a,startDate:r,endDate:i,location:l},reservedTicket:{"@type":"http://schema.org/Ticket",ticketNumber:u,ticketedSeat:{"@type":"http://schema.org/Seat",seatNumber:loadHelper("seat.js")(j,H,p,T),seatRow:p,seatSection:c,seatingType:m}}}]}}}).call();