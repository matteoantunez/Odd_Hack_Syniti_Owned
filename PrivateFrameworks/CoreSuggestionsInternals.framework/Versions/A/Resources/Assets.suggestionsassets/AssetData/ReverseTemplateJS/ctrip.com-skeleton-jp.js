(function(){return function(e,t,n){var r,a,i,o,g,s,p,c,m,u,d,l,x,C,h=Scanner.fromMessage(e);if(h.setLocale(t),!n.emailTitelConfirmation.test(e.subject)&&!n.emailTitelCancelConfirmation.test(e.subject))return CONTINUE;if(n.emailTitelConfirmation.test(e.subject)){g=h.getSpan().nextRegExp(n.reservationId).tagContents().innerCapture(n.reservationId,1),r=h.getSpan().nextRegExp(n.guestName).nextAnyTag("td").tagContents().innerCapture(/(.+)\,/,1),p=h.getSpan().nextRegExp(n.checkInDate).nextAnyTag("td").tagContents().toString(),c=h.getSpan().nextRegExp(n.checkOutDate).nextAnyTag("td").tagContents().toString(),u=h.getSpan().nextRegExp(n.hotelName).nextAnyTag("td").tagContents();var f=h.getSpan().nextRegExp(n.price).nextAnyTag("td").tagContents();if(i=f.innerCapture(/([\d,.]+)/,1),o=f.innerCapture(/([^\d,.]+)/,1).trim(),x=C=h.getSpan().nextRegExp(n.modifyUrl).innerCapture(n.modifyUrl,1).toString(),!ASSERT(r,g,p,c,OR(l,u)))return CONTINUE;s="Confirmed"}return[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:r,email:a},totalPrice:i,priceCurrency:o,checkinTime:p,checkoutTime:c,modifyReservationUrl:x,cancelReservationUrl:C,reservationStatus:"http://schema.org/Reservation"+(s||"Confirmed"),reservationId:g,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:u,url:m,telephone:d,address:l}}]}}).call();