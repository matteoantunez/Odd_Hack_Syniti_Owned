(function(){return function(t,e,n){var a,r,o,g,i,s,p,c,d,x,l,m,C,S,h,u,T,v,f,y,R,P=Scanner.fromMessage(t);if(P.setLocale(e),g=P.getSpan().nextRegExp(new RegExp(n.reservationIdPrefix)).parentAnyTag("td").tagContents().innerCapture(regExpFormatted(/\1 (\d{4}\-\d{4}\-[A-Z]{2}\-\d)/,n.reservationIdPrefix),1),(a=(r=P.getSpan().nextRegExp(n.guestName).nextTag("td2").tagContents()).innerCapture(/(.+?)\,/,1)).exists()||(a=r),R=getFuzzyDate(P.getSpan().next(n.dates).nextTag("td2").tagContents()),y=P.getSpan().next(n.carLocation).nextTag("td2").tagContents().innerPhoneNumber(),v=(f=(f=P.getSpan().next(n.carLocation).nextTag("td2").tagContents()).toString().split("\n"))[0].trim(),f=f.slice(1,-2).toString("").trim(),T=getFuzzyDate(P.getSpan().next(n.dates).nextTag("td2").nextTag("td2").tagContents()),u=P.getSpan().next(n.carLocation).nextTag("td2").nextTag("td2").tagContents().innerPhoneNumber(),S=(h=(h=P.getSpan().next(n.carLocation).nextTag("td2").nextTag("td2").tagContents()).toString().split("\n"))[0].trim(),h=h.slice(1,-2).toString("").trim(),d=P.getSpan().next(n.totalPrice).nextTag("td2").tagContents().innerCapture(/([\d,.]+)/,1),x=P.getSpan().next(n.totalPrice).nextTag("td2").tagContents().innerCapture(/([^\d,.]+)/,1).toString().trim(),l=P.getSpan().nextRegExp(n.brand).nextTag("td2").tagContents(),c=p=P.getSpan().nextTag("table2").tagContents().innerLink(),n.pendingSubject.test(t.subject)&&n.pendingReservation.test(t.plain)&&(i="Pending"),n.cancellationHeader.test(t.subject)&&(i="Cancelled",g=P.getSpan().nextRegExp(n.reservationIdCancel).tagContents().innerCapture(n.reservationIdCancel,1),f=P.getSpan().next(n.carLocation).nextTag("td2").tagContents(),h=P.getSpan().next(n.carLocation).nextTag("td2").nextTag("td2").tagContents()),ASSERT(a,f,R)){var L={"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:d,priceCurrency:x,reservationId:g,reservationStatus:"http://schema.org/Reservation"+(i||"Confirmed"),checkinUrl:s,modifyReservationUrl:p,cancelReservationUrl:c,underName:{"@type":"http://schema.org/Person",name:a,email:o},provider:{"@type":"http://schema.org/Organization",name:"Avis"},pickupTime:R,pickupLocation:{"@type":"http://schema.org/Place",name:v,telephone:y,address:f},dropoffTime:T,dropoffLocation:{"@type":"http://schema.org/Place",name:S,telephone:u,address:h}};return l&&(L.reservationFor={"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:l},license:m,color:C}),[L]}}}).call();