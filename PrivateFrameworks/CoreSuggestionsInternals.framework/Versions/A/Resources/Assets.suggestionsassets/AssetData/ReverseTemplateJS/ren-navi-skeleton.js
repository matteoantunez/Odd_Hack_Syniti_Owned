(function(){return function(e,t,r){function n(e){return e=e.replace(/[^\d\sa-zA-z:\u6642]+/g," ").replace(/\s+/g," ").replace(/^(\d+)\s(\d+)\s/,"$1/$2/"),e=getFuzzyDate(P.getDetachedSpan(e))}var a,o,i,p,c,s,g,m,l,h,u,d,f,S,C,v,y,R,T,k,P=Scanner.fromMessage(e);P.setLocale(t),a=P.getSpan().innerCapture(r.guestName,1),i=P.getSpan().innerCapture(r.reservationId,1),o=P.getSpan().innerCapture(r.guestEmail,1);var U="J net rental";R=P.getSpan().innerCapture(r.pickup,1).toString(),S=P.getSpan().innerCapture(r.dropoff,1).toString(),k=n(k=P.getSpan().innerCapture(r.pickupTime,1).toString()),v=n(v=P.getSpan().innerCapture(r.dropoffTime,1).toString()),h=P.getSpan().innerCapture(r.car,1).toString();var z=P.getSpan().nextRegExp(r.price).tagContents().innerCapture(r.price,1);if(m=z.innerCapture(/([\d,.]+)/,1),l=z.innerCapture(/([^\d,.]+)/,1).trim(),r.confirmSubject.test(e.subject)){if(!ASSERT(a,i,k,v,R,S))return CONTINUE;p="Confirmed"}if(r.cancellationSubject.test(e.subject)){if(i=P.getSpan().innerCapture(r.cancellationReservationId,1),!ASSERT(a,i,k,v,R,S))return CONTINUE;p="Cancelled"}return 0===h.toString().length||null===h?[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:m,priceCurrency:l,reservationId:i,reservationStatus:"http://schema.org/Reservation"+(p||"Confirmed"),checkinUrl:c,modifyReservationUrl:s,cancelReservationUrl:g,underName:{"@type":"http://schema.org/Person",name:a,email:o},provider:{"@type":"http://schema.org/Organization",name:U},pickupTime:k,pickupLocation:{"@type":"http://schema.org/Place",name:y,telephone:T,address:R},dropoffTime:v,dropoffLocation:{"@type":"http://schema.org/Place",name:f,telephone:C,address:S}}]:[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:m,priceCurrency:l,reservationId:i,reservationStatus:"http://schema.org/Reservation"+(p||"Confirmed"),checkinUrl:c,modifyReservationUrl:s,cancelReservationUrl:g,underName:{"@type":"http://schema.org/Person",name:a,email:o},provider:{"@type":"http://schema.org/Organization",name:U},reservationFor:{"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:h},license:u,color:d},pickupTime:k,pickupLocation:{"@type":"http://schema.org/Place",name:y,telephone:T,address:R},dropoffTime:v,dropoffLocation:{"@type":"http://schema.org/Place",name:f,telephone:C,address:S}}]}}).call();