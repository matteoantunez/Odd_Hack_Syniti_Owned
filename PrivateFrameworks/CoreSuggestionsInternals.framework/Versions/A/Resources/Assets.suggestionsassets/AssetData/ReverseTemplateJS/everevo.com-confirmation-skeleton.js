(function(){return function(e,t,r){var n,a,i,o,p,s,m,g=Scanner.fromMessage(e);g.setLocale(t),a=g.getSpan().innerCapture(regExpFormatted(/.\1.\n(.+)/,r.eventNamePrefix),1).trim(),n=g.getSpan().innerCapture(regExpFormatted(/\1.\n(.+) \(/,r.namePrefix),1).trim();var c=g.getSpan().innerCapture(regExpFormatted(/\1.\n(.+)/,r.startDatePrefix),1).allInnerDates();if(c.length>1)i=c[0],o=c[2];else{var d=(c=c[0]).split("\uff5e");d.length>1?(i=d[0].trim(),o=combineDateAndTime(i.split(" ")[0],d[1])):i=c}if(s=g.getSpan().innerCapture(regExpFormatted(/\1.\n(.+)/,r.addressPrefix),1).trim(),m=g.getSpan().innerCapture(regExpFormatted(/\1.\n(.+)/,r.descriptionPrefix),1).trim(),p=g.getSpan().innerCapture(regExpFormatted(/.\1.\n(.+)/,r.eventUrlPrefix),1).trim(),ASSERT(a,i)){var l={"@context":"http://schema.org","@type":"http://schema.org/EventReservation",reservationStatus:"http://schema.org/ReservationConfirmed",reservationFor:{name:a,url:p,"@type":"http://schema.org/SocialEvent",startDate:i,description:m,location:{"@type":"http://schema.org/Place",address:s}},underName:{"@type":"http://schema.org/Person",name:n}};return valid(o)&&(l.reservationFor.endDate=o),[l]}return CONTINUE}}).call();