(function(){return function(e,t,r){function n(e){return e=e.replace(/[^\d\sa-zA-z:\u6642]+/g," ").replace(/\s+/g," ").replace(/^(\d+)\s(\d+)\s/,"$1/$2/"),e=getFuzzyDate(k.getDetachedSpan(e))}var a,i,o,p,c,s,g,u,m,l,d,h,S,C,f,v,y,z,R,P,k=Scanner.fromMessage(e);k.setLocale(t),o=k.getSpan().innerCapture(r.reservationId,1),a=k.getSpan().innerCapture(r.guestName,1).toString().trim(),i=k.getSpan().innerCapture(r.guestEmail,1).toString().trim(),l=k.getSpan().innerCapture(r.car,1).toString().trim();var x=k.getSpan().innerCapture(r.pickup,1);P=n(P=x.innerCapture(/(.+)\((.+)\)/,1).toString()),z=x.innerCapture(/\((.+)\)/,1).toString();var T=k.getSpan().innerCapture(r.dropoff,1);v=n(v=T.innerCapture(/(.+)\((.+)\)/,1).toString()),C=T.innerCapture(/\((.+)\)/,1).toString();var L=k.getSpan().innerCapture(r.totalPrice,1);if(u=L.innerCapture(/([\d.,]+)/,1),m=L.innerCapture(/[\d.,]+(.+)\\uff08/,1).trim(),(r.cancel.test(e.subject)||k.getSpan().nextText(r.forcedCancel).exists())&&(p="Cancelled"),ASSERT(a,o,P,v,z,C))return[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:u,priceCurrency:m,reservationId:o,reservationStatus:"http://schema.org/Reservation"+(p||"Confirmed"),checkinUrl:c,modifyReservationUrl:s,cancelReservationUrl:g,underName:{"@type":"http://schema.org/Person",name:a,email:i},provider:{"@type":"http://schema.org/Organization",name:"Budget"},reservationFor:{"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:l},license:d,color:h},pickupTime:P,pickupLocation:{"@type":"http://schema.org/Place",name:y,telephone:R,address:z},dropoffTime:v,dropoffLocation:{"@type":"http://schema.org/Place",name:S,telephone:f,address:C}}]}}).call();