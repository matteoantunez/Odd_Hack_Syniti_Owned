(function(){return function(e,t,n){var a,r,i,o,s,g,d,p,x,c,T,m,u,l,C=Scanner.fromMessage(e);if(C.setLocale(t),!n.emailTitelConfirmation.test(e.subject))return CONTINUE;s=C.getSpan().nextRegExp(n.reservationId).parentTag("td3").tagContents().innerCapture(n.reservationId,1);var h=C.getSpan().nextRegExp(n.reservationId).nextTag("table5").nextTag("td5").nextTag("td5").tagContents();return c=h.innerCapture(regExpFormatted(/(.+)</),1),x=h.innerLink(),T=h.innerPhoneNumber(),m=h.innerCapture(regExpFormatted(/.+\n([\s\S]*)\1/,n.hotelPhone),1),a=C.getSpan().nextText(n.guestName).nextTag("td3").nextTag("td3").nextTag("td3").nextTag("td3").tagContents().innerCapture(/(.+)\s+?\n/,1),r=C.getSpan().nextText(n.guestName).nextTag("td3").nextTag("td3").nextTag("td3").nextTag("td3").tagContents().innerCapture(n.guestEmail,1),i=C.getSpan().nextText(n.totalPrice).nextTag("td4").tagContents().innerCapture(/=\s+?([\d,.]+)\s(\w{3})/,1),o=C.getSpan().nextText(n.totalPrice).nextTag("td4").tagContents().innerCapture(/=\s+?([\d,.]+)\s(\w{3})/,2),d=C.getSpan().nextText(n.checkIn).parentTag("td3").firstDate(),p=C.getSpan().nextText(n.checkIn).parentTag("td3").lastInnerDate(),n.emailTitelConfirmation.test(e.subject)&&(g="Confirmed"),n.emailTitelCancellation.test(e.subject)?CONTINUE:ASSERT(d,p,m)?[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:a,email:r},totalPrice:i,priceCurrency:o,checkinTime:d,checkoutTime:p,modifyReservationUrl:u,cancelReservationUrl:l,reservationStatus:"http://schema.org/Reservation"+(g||"Confirmed"),reservationId:s,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:c,url:x,telephone:T,address:m}}]:void 0}}).call();