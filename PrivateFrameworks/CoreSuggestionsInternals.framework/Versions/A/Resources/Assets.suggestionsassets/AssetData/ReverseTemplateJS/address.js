(function(){return function(e,t,s,r,n,i){var d,l,a,g,o=t.getNullSpan(),u=loadHelper("isValid.js"),x=t.getSpan(),f=!1,p=function(e){return/%2/.test(e.toString())&&(e=e.replace(/(?:%2B|%252c|%20|%2C)/g," ")),e=e.replace(/\[\/?t(?:[hrd]|able)\d+]/g,"").replace(/\s{2,}/g," ").replace(/<_link_>/g,"").trim()},c=function(){return x.replace(/\[\/?t(?:[hrd]|able)\d+]/g,"").replace(/\s{4,}/g,"\n").replace(/^/,"\n")},h=function(){return x.replace(/\[\/?t(?:[hrd]|able)\d+]/g,"")},S=function(e,s){return t.getDetachedSpan(!0===s?e[1].replace("\\u002D","-").replace(/[\\\"]/g,"").replace(/\s+/g," ").replace(/<br(?: \/>|\/>||&gt;|>| )?/gi,"\n"):e[1].replace("\\u002D","-").replace(/[\\\"]/g,"").replace(/\s+/g," ").replace(/<br(?: \/>|\/>||&gt;|>| )?/gi,", "))};for(d=0;d<e.address.length&&(!o||!o.exists());d++){if((a=x.innerCapture(e.address[d],1)).exists())if((a=p(a)).toString().length>0&&!a.innerLink().exists()&&u("address",e,x,a,null,null,n))o=(P=a.innerAddress()).exists()&&.75*a.toString().length<P.toString().length?P:a}if(r&&r.exists()&&(!o||!o.exists())){var C=e.buildRegExp("addressInnerCaptureFromEventName",r.toString());for(d=0;d<C.length&&(!o||!o.exists());d++){(a=(P=(a=x.innerCapture(C[d],1)).innerAddress()).exists()&&.75*a.toString().length<P.toString().length?P:a).exists()&&u("address",e,x,a,null,null,n)&&(o=a)}}if(i&&i.exists()&&(!o||!o.exists())){var m=e.buildRegExp("addressFromPlaceInnerCapture",i.toString());for(d=0;d<m.length&&(!o||!o.exists());d++)(a=(a=x.innerCapture(m[d],1)).innerAddress().exists()?a.innerAddress():a).exists()&&u("address",e,x,a,null,null,n)&&(o=a)}if(r&&r.exists()&&(!o||!o.exists())){var A=[],v=e.buildRegExp("addressFromEventName",r.toString());for(g=c(),d=0;d<v.length&&(!o||!o.exists());d++){for(l=g.next(v[d]);l.exists();){if((a=l.nextAddress()).exists())if((b=a.getStart()-l.getEnd())>=0&&b<305){var L={matchedSpan:l,matchedAddress:a,score:b};u("address",e,g,a,null,null,n)&&A.push(L)}l=l.next(v[d])}0!==A.length&&(A.sort(function(e,t){return e.score>t.score?1:e.score<t.score?-1:0}),o=A[0].matchedAddress,f=!0)}}if(!("undefined"==typeof e.addressPrefix||o&&o.exists()))for(g=h(),d=0;d<e.addressPrefix.length&&(!o||!o.exists());d++){if((a=(l=g.next(e.addressPrefix[d])).nextAddress()).exists())(b=a.getStart()-l.getEnd())<301&&u("address",e,g,a,null,null,n)&&(o=a,f=!0)}if(!("undefined"==typeof e.addressPostfix||o&&o.exists()))for(g||(g=h()),d=0;d<e.addressPostfix.length&&(!o||!o.exists());d++){var b;if((a=(l=g.next(e.addressPostfix[d])).previousAddress()).exists())(b=l.getStart()-a.getEnd())<50&&u("address",e,g,a,null,null,n)&&(o=a,f=!0)}if(s&&(!o||!o.exists())&&"undefined"!=typeof e.addressCaptureHTML)for(d=0;d<e.addressCaptureHTML.length;d++){if((E=e.addressCaptureHTML[d].exec(s.html))&&2===E.length)if((H=S(E,f)).toString().length>0&&!H.innerLink().exists())if((o=(P=H.innerAddress()).exists()&&.75*H.toString().length<P.toString().length?P:H).exists())return o}if(s&&o&&o.exists()&&"undefined"!=typeof e.addressCaptureHTML&&!0===f)for(d=0;d<e.addressCaptureHTML.length;d++){var E,H,P;if((E=e.addressCaptureHTML[d].exec(s.html))&&2===E.length)if((H=S(E,f)).toString().length>0&&!H.innerLink().exists())if(P=(P=H.innerAddress()).exists()&&.75*H.toString().length<P.toString().length?P:H,o.toString().length<P.toString().length&&(o=P),o.exists())return o}return o}}).call();