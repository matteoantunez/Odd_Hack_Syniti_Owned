(function(){return function(e,r,t){var a=Scanner.fromMessage(e);a.setLocale(r);var n,i,o,p,d,u,s,m,g,l,h=[],T=[];for(u=(d=(n=a.getSpan().next(t.name).nextTag("td5").nextTag("td5").tagContents()).nextDate()).nextTransitInformation();u.exists();)(C={}).airlineCode=u.innerCapture(/^(\D+)/,1),C.flightNumber=u.innerCapture(/(\d+)$/,1),m=(s=u.next(/\s\(\w{2,3}\)/).parentAnyTag("td").tagContents()).previousAnyTag("td").innerDate(),l=(g=s.nextAnyTag("tr").innerDate()).nextAnyTag("td").tagContents(),C.departureAirport=s.innerCapture(/(.*)\s\(/,1),C.departureCode=s.innerCapture(/\((\w{2,3})\)/,1),C.departureTime=combineDateAndTime(d,m),C.arrivalAirport=l.innerCapture(/(.*)\s\(/,1),C.arrivalCode=l.innerCapture(/\((\w{2,3})\)/,1),C.arrivalTime=combineDateAndTime(d,g),C.seatingType=l.nextTag("td5").tagContents(),ASSERT(C.airlineCode,C.flightNumber,C.departureCode,C.arrivalCode,C.departureTime,C.arrivalTime)&&h.push(C),u=u.nextTransitInformation();for(var c=0;c<h.length;c++){var C;T.push({"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:"Lufthansa",airlineCode:(C=h[c]).airlineCode,flightNumber:C.flightNumber,departureAirportFuzzy:C.departureAirport,departureAirportCode:C.departureCode,departureTime:C.departureTime,arrivalAirportFuzzy:C.arrivalAirport,arrivalAirportCode:C.arrivalCode,arrivalTime:C.arrivalTime},underName:{"@type":"http://schema.org/Person",name:n},checkinUrl:"",reservationId:i,reservationStatus:"http://schema.org/ReservationConfirmed",totalPrice:o,priceCurrency:p,reservedTicket:{"@type":"http://schema.org/Ticket",ticketNumber:i,ticketedSeat:{"@type":"http://schema.org/Seat",seatNumber:"",seatingType:C.seatingType}}})}if(T.length)return T}}).call();