(function(){return function(e,t,n){var a,r,i,g,o,s,x,c,d,T,h,p,u,m=Scanner.fromMessage(e),l=m.getSpan();m.setLocale(t),o=l.nextText(n.reservationIdPrefix).nextTag("td4").tagContents(),a=m.getSpan().nextText(n.guestNamePrefix).nextTag("td4").tagContents(),s=l.nextText(n.checkInDateTimePrefix).nextTag("td4").tagContents();var C=/until/;x=l.nextText(n.checkOutDateTimePrefix).nextTag("td4").tagContents(),C.test(x)?(x=x.innerCapture(/($<checkOutDate>.+) until ($<checkOutTime>.+)/),x=getFuzzyDate(m.getDetachedSpan(x.$checkOutDate+" "+x.$checkOutTime))):x=getFuzzyDate(m.getDetachedSpan(x.toString())),s=getFuzzyDate(m.getDetachedSpan(s.toString()));var S=m.getSpan().nextText(n.pricePrefix).nextTag("td4").tagContents();return i=S.innerCapture(/([\d,.]+)/,1),g=S.innerCapture(/([^\d,.]+)/,1).trim(),h=m.getSpan().nextText(n.hotelAddressPrefix).nextTag("td5").tagContents(),T=m.getSpan().nextText(n.hotelPhonePrefix).nextTag("td5").tagContents(),d=m.getSpan().nextText(n.hotelAddressPrefix).parentTag("table3").nextTag("td3").tagContents().innerCapture(/(.+)</,1).trim(),c=m.getSpan().nextText(n.hotelAddressPrefix).parentTag("table3").nextTag("td3").tagContents().innerLink(),ASSERT(a,o,s,x,h)?[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:a,email:r},totalPrice:i,priceCurrency:g,checkinTime:s,checkoutTime:x,modifyReservationUrl:p,cancelReservationUrl:u,reservationStatus:"http://schema.org/Reservation"+("Confirmed"||"Confirmed"),reservationId:o,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:d,url:c,telephone:T,address:h}}]:CONTINUE}}).call();