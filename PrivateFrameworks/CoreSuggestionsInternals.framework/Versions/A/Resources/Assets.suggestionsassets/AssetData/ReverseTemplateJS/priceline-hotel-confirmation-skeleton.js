(function(){return function(e,t){var n=Scanner.fromMessage(e);n.setLocale(t);var r,a,o,i,s,c,g,d,h,m,p,l,u,x,y=n.getSpan();return c="Confirmed",m=y.next(/\d+ Nights?,/i).parentAnyTag("table").nextAnyTag("td").tagContents(),s=/Itinerary# (.+)\)/.exec(e.subject)[1],g=y.next(/Check-in:/).nextAnyTag("td").tagContents().toString().replace(/(?:,|\(|\))/,""),g=n.getDetachedSpan(g).innerDate(),d=y.next(/Check-out:/).nextAnyTag("td").tagContents().toString().replace(/(?:,|\(|\)), '/,""),d=n.getDetachedSpan(d).innerDate(),l=y.next(/Hotel Address:/).nextAnyTag("td").innerAddress(),p=y.next(/Hotel Phone Number:/).nextAnyTag("td").innerPhoneNumber(),ASSERT(s,m,g,OR(d,l)),[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:r,email:a},totalPrice:o,priceCurrency:i,checkinTime:g,checkoutTime:d,modifyReservationUrl:u,cancelReservationUrl:x,reservationStatus:"http://schema.org/Reservation"+(c||"Confirmed"),reservationId:s,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:m,url:h,telephone:p,address:l}}]}}).call();