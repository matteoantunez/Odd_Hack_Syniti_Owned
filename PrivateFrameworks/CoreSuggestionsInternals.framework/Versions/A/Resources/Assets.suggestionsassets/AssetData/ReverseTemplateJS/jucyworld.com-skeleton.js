(function(){return function(e,t,n){var a,r,o,c,p,g,s,i,d,x,l,T,m,h,u,y,C,S,f,v,A,R=Scanner.fromMessage(e);if((R.setLocale(t),n.confirmSubject.test(e.subject))&&(o=R.getSpan().nextText(n.reservationId).nextAnyTag("td").tagContents().innerCapture(/(.+)\s/,1),a=R.getSpan().nextText(n.guestName).nextAnyTag("td").tagContents(),r=R.getSpan().nextText(n.guestEmail).nextAnyTag("td").tagContents(),p=R.getSpan().nextText(n.checkinUrl).parentTag("td2").tagContents().innerLink(),x=R.getSpan().nextText(n.car).nextAnyTag("td").tagContents(),S=R.getSpan().nextText(n.pickupLoc).nextAnyTag("td").tagContents(),v=R.getSpan().nextText(n.pickupDate).nextAnyTag("td").tagContents().innerDate(),h=R.getSpan().nextText(n.dropoffLoc).nextAnyTag("td").tagContents(),y=R.getSpan().nextText(n.dropoffDate).nextAnyTag("td").tagContents().innerDate(),i=(A=R.getSpan().nextText(n.price).nextAnyTag("td").tagContents()).innerCapture(/([\d,.]+)/,1),d=A.innerCapture(/([^\d,.]+)/,1),!ASSERT(a,o,v,y,S,h)))return CONTINUE;if(n.cancellationSubject.test(e.subject)&&(o=R.getSpan().nextRegExp(n.cancelReservationId).tagContents().innerCapture(n.cancelReservationId,1),a=R.getSpan().nextText(n.guestName).nextAnyTag("td").tagContents(),r=R.getSpan().nextText(n.cancelGuestEmail).nextAnyTag("td").tagContents(),i=(A=R.getSpan().nextText(n.cancelPrice).nextAnyTag("td").tagContents()).innerCapture(/([\d,.]+)/,1),d=A.innerCapture(/([^\d,.]+)/,1),x=R.getSpan().nextText(n.cancelCar).nextAnyTag("td").tagContents(),S=R.getSpan().nextText(n.pickupLoc).nextAnyTag("td").tagContents(),v=R.getSpan().nextText(n.cancelpickupdate).nextAnyTag("td").tagContents(),v=getFuzzyDate(v),h=R.getSpan().nextText(n.dropoffLoc).nextAnyTag("td").tagContents(),y=R.getSpan().nextText(n.canceldropffdate).nextAnyTag("td").tagContents(),y=getFuzzyDate(y),c="Cancelled",!ASSERT(a,o,v,y,S,h)))return CONTINUE;return 0===x.toString().length||null===x?[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:i,priceCurrency:d,reservationId:o,reservationStatus:"http://schema.org/Reservation"+(c||"Confirmed"),checkinUrl:p,modifyReservationUrl:g,cancelReservationUrl:s,underName:{"@type":"http://schema.org/Person",name:a,email:r},provider:{"@type":"http://schema.org/Organization",name:"Jucyworld"},pickupTime:v,pickupLocation:{"@type":"http://schema.org/Place",name:C,telephone:f,address:S},dropoffTime:y,dropoffLocation:{"@type":"http://schema.org/Place",name:m,telephone:u,address:h}}]:[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:i,priceCurrency:d,reservationId:o,reservationStatus:"http://schema.org/Reservation"+(c||"Confirmed"),checkinUrl:p,modifyReservationUrl:g,cancelReservationUrl:s,underName:{"@type":"http://schema.org/Person",name:a,email:r},provider:{"@type":"http://schema.org/Organization",name:"Jucyworld"},reservationFor:{"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:x},license:l,color:T},pickupTime:v,pickupLocation:{"@type":"http://schema.org/Place",name:C,telephone:f,address:S},dropoffTime:y,dropoffLocation:{"@type":"http://schema.org/Place",name:m,telephone:u,address:h}}]}}).call();