(function(){return function(e,t,n){var a,r,o,p,i,s,c,d,g,m,u,h,l,f,x,S,C,L=Scanner.fromMessage(e);if(L.setLocale(t),a=L.getSpan().innerCapture(n.underNameCapture,1).trim(),C=L.getSpan().next(n.pickupDate).nextDate(),l=L.getSpan().next(n.dropoffDate).nextDate(),o=L.getSpan().innerCapture(n.reservationIdCapture,1),c=L.getSpan().next(n.brandLabel).parentAnyTag("td").tagContents().innerCapture(regExpFormatted(/\1\s+([\s\S]+)/,n.brandLabel),1),f=L.getSpan().innerCapture(regExpFormatted(/\1\s+([^\[\]\n]*)/,n.pickupLocation),1),(x=L.getSpan().innerCapture(regExpFormatted(/\1\s+([^\[\]]*?)\n\n/,n.pickupLocation),1))&&x.exists()||(x=L.getSpan().next(n.pickupLocation).nextAddress()),m=L.getSpan().innerCapture(regExpFormatted(/\1\s+([^\[\]\n]*)/,n.dropoffLocation),1),(u=L.getSpan().innerCapture(regExpFormatted(/\1\s+([^\[\]]+?)\n\n/,n.dropoffLocation),1))&&u.exists()||(u=L.getSpan().next(n.dropoffLocation).nextAddress()),n.cancellation.test(e.subject)&&(p="Cancelled"),ASSERT(a,x,C)){var v={"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:i,priceCurrency:s,reservationId:o,reservationStatus:"http://schema.org/Reservation"+(p||"Confirmed"),underName:{"@type":"http://schema.org/Person",name:a,email:r},provider:{"@type":"http://schema.org/Organization",name:"Avis"},pickupTime:C,pickupLocation:{"@type":"http://schema.org/Place",name:f,telephone:S,address:x},dropoffTime:l,dropoffLocation:{"@type":"http://schema.org/Place",name:m,telephone:h,address:u}};return c&&(v.reservationFor={"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:c},license:d,color:g}),[v]}}}).call();