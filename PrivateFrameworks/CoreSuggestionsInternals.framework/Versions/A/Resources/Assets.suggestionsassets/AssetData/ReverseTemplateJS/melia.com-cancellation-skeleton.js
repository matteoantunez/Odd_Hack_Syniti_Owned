(function(){return function(e,t,n){var a,r,g,o,s,i,p,c,d,x,m,u=Scanner.fromMessage(e);u.setLocale(t),a=u.getSpan().nextText(n.name).nextTag("td5").tagContents(),o=(g=u.getSpan().nextText(n.total).nextTag("td5").tagContents()).innerCapture(/([\d,\.]+)/,1),s=g.innerCapture(/[\d,\.]+ (.)/,1),i=getFuzzyDate(u.getSpan().nextText(n.checkIn).nextTag("td5")),p=getFuzzyDate(u.getSpan().nextText(n.checkOut).nextTag("td5")),c=u.getSpan().nextTag("table4").nextTag("td4").nextTag("td4").tagContents().innerCapture(/(\d+)/,1);var T=u.getSpan().nextTag("tr5");if("es_ES"===t&&(T=T.nextTag("tr5")),d=T.lastInnerTag("td5").tagContents().innerCapture(/(.*)\-/,1).trim(),x=T.tagContents().innerCapture(regExpFormatted(/\1([\d\(\)-\+\s]+)/,n.phone),1).trim(),m=T.tagContents().innerCapture(regExpFormatted(/\1.*\n([\s\S]*) - \2/,n.viewOnMelia_Com,n.viewOnGoogleMaps),1),ASSERT(a,i,c,m))return[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:a,email:r},totalPrice:o,priceCurrency:s,checkinTime:i,checkoutTime:p,reservationStatus:"http://schema.org/ReservationCancelled",reservationId:c,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:d,telephone:x,address:m}}]}}).call();