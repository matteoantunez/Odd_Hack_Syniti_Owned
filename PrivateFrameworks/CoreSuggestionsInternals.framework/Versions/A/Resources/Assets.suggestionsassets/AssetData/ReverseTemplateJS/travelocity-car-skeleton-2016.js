(function(){return function(e,t,r){var a,n,p,o,i,c,g,s,d,m,u,C,h,y=Scanner.fromMessage(e);if(y.setLocale(t),u=y.getSpan().next(r.hotel.reservationIdPrefix).nextAnyTag("td").tagContents(),n=y.getSpan().innerCapture(r.car.providerCapture,1),c=(g=(h=y.getSpan().next(r.car.bookingInfo).nextAnyTag("td")).innerCapture(r.car.pickupTimeCapture,1).innerDate()).parentAnyTag("td").innerCapture(regExpFormatted(/\1\s+(.*)/,g.toString()),1),p=(o=h.nextAnyTag("td").nextAnyTag("td").innerCapture(r.car.dropoffTimeCapture,1).innerDate()).parentAnyTag("td").innerCapture(regExpFormatted(/\1\s+(.*)/,o.toString()),1),a=y.getSpan().innerCapture(r.car.brandCapture,1),s=y.getSpan().innerCapture(regExpFormatted(/\1\s+(.*)/,r.car.name),1),d=(i=y.getSpan().next(r.car.newPrice).parentAnyTag("td").tagContents()).innerCapture(/([\d,.]+)/,1),m=i.innerCapture(regExpFormatted(/\1([^\d,.]+)/,r.car.newPrice),1),C=r.car.cancellation.test(e.subject)?"Cancelled":"Confirmed",ASSERT(s,n,g))return[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:d,priceCurrency:m.trim(),reservationId:u,reservationStatus:"http://schema.org/Reservation"+C,underName:{"@type":"http://schema.org/Person",name:s.trim()},provider:{"@type":"http://schema.org/Organization",name:n},reservationFor:{"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:a}},pickupTime:g,pickupLocation:{"@type":"http://schema.org/Place",address:c.trim()},dropoffTime:o,dropoffLocation:{"@type":"http://schema.org/Place",address:p.trim()}}]}}).call();