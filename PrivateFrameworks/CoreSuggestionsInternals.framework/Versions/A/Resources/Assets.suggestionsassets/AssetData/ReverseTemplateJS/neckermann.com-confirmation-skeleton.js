(function(){return function(e,t,n){var a,r,o,g,i,s,p,c,d,u,h,m,l,x,y=Scanner.fromMessage(e);if(y.setLocale(t),x=y.getSpan().next(n.checkin).parentAnyTag("td").nextAnyTag("td").tagContents(),c=getFuzzyDate(y.getDetachedSpan(x.innerCapture(n.dates).$checkin.toString())),d=getFuzzyDate(y.getDetachedSpan(x.innerCapture(n.dates).$checkout.toString())),s=y.getSpan().next(n.confirmation).innerCapture(regExpFormatted(n.confirmation),1),g=(o=y.getSpan().next(n.totalPrice).parentAnyTag("td").nextAnyTag("td").tagContents()).innerCapture(/([\d,.]+)/,1),i=o.innerCapture(/([^\d,.]+)/,1).trim(),a=y.getSpan().next(n.guestDetails).next(n.guestName).parentAnyTag("td").nextAnyTag("td").tagContents(),r=y.getSpan().next(n.guestDetails).next(n.guestEmail).parentAnyTag("td").nextAnyTag("td").tagContents(),u=y.getSpan().next(n.bookingDetails).next(n.hotelName).parentAnyTag("td").nextAnyTag("td").tagContents(),m=y.getSpan().next(n.bookingDetails).nextAddress(),h=y.getSpan().next(n.hotelPhone).innerCapture(n.hotelPhone,1),ASSERT(a,c,d,m))return[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:a,email:r},totalPrice:g,priceCurrency:i,checkinTime:c,checkoutTime:d,modifyReservationUrl:l,reservationStatus:"http://schema.org/Reservation"+(p||"Confirmed"),reservationId:s,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:u,url:null,telephone:h,address:m}}]}}).call();