(function(){return function(e,t){function i(e,t){var i,r=loadHelper("tableExtractor.js")(e.prefix,t,e.innerCapture).allInnerDates();return r.length>1?i=combineDateAndTime(r[0],r[1]):1===r.length&&(i=r[0]),i}var r,n,a=loadHelper("getCandidates.js"),f=t.getSpan(),p=t.getSpan().allDates();if((!(r=a([e.pickUpDateTimeCapture,e.pickUpBlockPrefix,e.pickUpDateTimePrefix,e.pickUpDatePrefix,e.pickUpTimePrefix],f,function(e,i){var r=e.innerCapture(i);if(r&&2===r.length)r=r[1];else{if(!r||3!==r.length)return p.filter(function(t){return t.getStart()>=e.getEnd()});r=t.getDetachedSpan(r.$date+" "+r.$time)}return[r]},function(e){var i=t.getDateDD(e);return/[\d\uff10-\uff19]{1,2}/i.test(e.toString())&&i&&i.is(["Date","DateTime","DateDuration"])},undefined,undefined,function(i){var r,n=e.buildRegExp("incorrectTime",i.toString());for(r=0;r<n.length;r++)if(t.getSpan().next(n[r]).exists())return!1;return!0}))||!r.exists())&&e.pickUpTimeTablePrefix)for(var o=0;o<e.pickUpTimeTablePrefix.length&&(!r||!r.exists());o++)r=i(e.pickUpTimeTablePrefix[0],t);if((!(n=a([e.dropOffDateTimeCapture,e.dropOffBlockPrefix,e.dropOffDateTimePrefix,e.dropOffDatePrefix,e.dropOffTimePrefix],f,function(e,i){var n=e.innerCapture(i);if(n&&2===n.length)n=n[1];else{if(!n||3!==n.length)return p.filter(function(i){if(i.getStart()<e.getEnd())return!1;var n=t.getDateDD(i);return dateTimeSpanToEpoch(n&&n.is(["DateDuration"])?n.endIso8601:n.iso8601)>dateTimeSpanToEpoch(r)});n=t.getDetachedSpan(n.$date+" "+n.$time)}return[n]},function(e){var i=t.getDateDD(e);return/[\d\uff10-\uff19]{1,2}/i.test(e.toString().trim())&&i&&i.is(["Date","DateTime"])},function(e){var i=t.getDateDD(e);return i&&i.is(["DateDuration"])?t.getDetachedSpan(i.endIso8601):e}))||!n.exists())&&e.dropOffTimeTablePrefix)for(o=0;o<e.dropOffTimeTablePrefix.length&&(!n||!n.exists());o++)n=i(e.dropOffTimeTablePrefix[0],t);if(!hasTime(r)){for(var u,D=0;D<e.pickUpTimeCapture.length;D++){(d=f.innerCapture(e.pickUpTimeCapture[D],1)).exists()&&(u=d.innerDate())}r=combineDateAndTime(r,u)}if(!hasTime(n)){var c;for(D=0;D<e.dropOffTimeCapture.length;D++){var d;(d=f.innerCapture(e.dropOffTimeCapture[D],1)).exists()&&(c=d.innerDate())}n=combineDateAndTime(n,c)}return[r,n]}}).call();