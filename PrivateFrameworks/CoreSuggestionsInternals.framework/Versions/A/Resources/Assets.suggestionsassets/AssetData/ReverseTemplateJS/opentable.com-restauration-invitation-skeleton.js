(function(){return function(e,t,n,a){if(!(e&&t&&n&&a))return CONTINUE;var r,o,p,x,g,i,s,h,T,S,d=Scanner.fromMessage(e);return d.setLocale(t),loadHelper("opentable-restaurant-invitation-check.js")(e)?CONTINUE:(p=d.getSpan().nextText(n.hour),p=getFuzzyDate(d.getDetachedSpan(d.getSpan().withInterval(p.nextText("\n").getEnd(),p.nextText("\n").nextText("\n").getStart()).toString().replace(/[^\d\sa-zA-z:]+/g,"").replace(/\s+/g," ").replace(/^(\d+)\s(\d+)\s/,"$1/$2/"))),o=d.getSpan().nextText(n.restaurant).nextText(n.restaurant),o=d.getSpan().withInterval(o.nextText("\n").getEnd(),o.nextText("\n").nextText("\n").getStart()),h=d.getDetachedSpan(d.getSpan().nextText(n.phone).previousText(o.toString()).collapseToEnd().withEnd(d.getSpan().nextText(n.phone).previousText("\n").getStart()).trim().toString().replace(/(\n)/g," ")),(i=d.getSpan().nextText(n.phone).nextPhoneNumber().innerCapture(regExpFormatted(/([\d\(\)\-\s]+)/),1).trim()).exists()||(i=d.getSpan().nextText(n.phone),i=d.getSpan().withInterval(i.nextText("\n").getEnd(),i.nextText("\n").nextText("\n").getStart())),r=d.getSpan().nextText(n.person),r=d.getSpan().withInterval(r.previousText("\n").getEnd(),r.nextText("\n").getStart()).innerCapture(regExpFormatted(/(\d+)/),1),x=d.getSpan().innerCapture(regExpFormatted(/(.*) \1/,n.invitation),1),ASSERT(r,o,p,x)?[{"@context":"http://schema.org","@type":"http://schema.org/FoodEstablishmentReservation",partySize:r,reservationId:s,reservationStatus:"http://schema.org/ReservationConfirmed",reservationFor:{"@type":"http://schema.org/FoodEstablishment",name:o,url:g,telephone:i,address:h},startTime:p,bookingAgent:{"@type":"http://schema.org/Organization",name:"OpenTable",url:"https://"+a},underName:{"@type":"http://schema.org/Person",name:x},cancelReservationUrl:T,modifyReservationUrl:S}]:CONTINUE)}}).call();