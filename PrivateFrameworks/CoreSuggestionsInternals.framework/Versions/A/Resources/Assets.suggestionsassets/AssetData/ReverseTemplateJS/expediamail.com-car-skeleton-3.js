(function(){return function(e,t,a){var n,r,p,o,l,i,c,g,s,d,m,h,x=Scanner.fromMessage(e);x.setLocale(t),h=a.cancelled.test(e.subject)||a.cancelled.test(e.plain)?"Cancelled":"Confirmed";var T=(m=x.getSpan().next(a.pickUp).parentTag("table4")).nextAnyTag("table");"en_GB"!==t||/table5/.test(T)||(T=(m=(m=x.getSpan().next(a.car).next(a.car)).next(a.car)).parentAnyTag("table")),l=(m=T.allInnerTagsFiltered("td5"))[0].isNullSpan_?null:m[0];var f=x.getSpan().next(a.pickUp).parentAnyTag("table").allInnerTagsFiltered("td7"),v=x.getSpan().next(a.dropOff).parentAnyTag("table").allInnerTagsFiltered("td7"),y=x.getSpan().next(a.dropOff).nextTag("table6").allInnerTagsFiltered("td6");if(0!==y.length&&(i=y[1]),c=combineDateAndTime(f[2],f[1]),g=combineDateAndTime(v[2],v[1]),s=f[3],d=v[3],(n=x.getSpan().next(l).next(a.booking).next(/[A-Z\d]+/))||(n=x.getSpan().innerCapture(regExpFormatted(/\1 (\d+)/,a.reservationId),1)),o=x.getSpan().next(a.pickUp).next(a.reserved).nextAnyTag("td").tagContents(),ASSERT(o,c))return[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",reservationId:n,reservationStatus:"http://schema.org/Reservation"+h,modifyReservationUrl:r,cancelReservationUrl:p,underName:{"@type":"http://schema.org/Person",name:o},provider:{"@type":"http://schema.org/Organization",name:l},reservationFor:{"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:i}},pickupTime:c,pickupLocation:{"@type":"http://schema.org/Place",name:s},dropoffTime:g,dropoffLocation:{"@type":"http://schema.org/Place",name:d}}]}}).call();