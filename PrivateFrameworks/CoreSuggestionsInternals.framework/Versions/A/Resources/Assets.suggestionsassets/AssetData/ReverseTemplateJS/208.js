new ReverseTemplateList([new ReverseTemplate("anyvite.com-invitation-en",function(){return!0},function(e){if(!/Your Response:\s+Yes\s?/.test(e.plain))return CONTINUE;var t=Scanner.fromMessage(e);if(t.setLocale("en_US"),t.getSpan().nextText("Invitation Details").nextText("RSVP").nextText("Date & Time").nextText("Location").exists()){var n,a,i,r,s,o,p,m,c,l,d,g;if(a=(a=/http:\/\/email\.mail\.anyvite\.com\/c\/(\w+)/.exec(e.html))?a[1]:null,g=(n=t.getSpan().nextText("View the Invitation").parentTag("td3").tagContents()).innerCapture(/(.*) has invited you to/,1),not(g)&&(g=n.innerCapture(/(.*) would like to remind you/,1)),not(g)&&(g=n.innerCapture(/hosted by (.*?)\./,1)),not(g)){var u=e.from.split("<")[0].trim();/anyvite/i.test(u)||(g=u)}switch(o=(r=(n=t.getSpan().nextText("Invitation Details").nextText("RSVP").nextTag("td3").tagContents()).innerCapture(/($<name>.*)\n($<description>[^]*)\s+\[table4/))?r.$name:null,p=r?r.$description.trim():null,s=t.getSpan().innerCapture(/View the Invitation <(http.*)>/,1),l=n.innerText("Date & Time").nextDate(),n=n.innerText("Date & Time").nextText("Location").nextTag("td4").tagContents(),d=getFuzzyAddress(n),(m=n.innerCapture(/($<name>.*)(?:\n($<address>[^]*)\s+Get Map & Directions)?/))&&(not(d)?d=t.getDetachedSpan(m.$name.toString()).trim():startsWith(d.toString(),m.$name.toString())||(c=m.$name)),(n=t.getSpan().innerCapture(/\s+Your Response:\s+([^\s]*)\s+/,1)).getString().toLowerCase()){case"yes":i="Confirmed";break;case"no":i="Cancelled";break;case"maybe":i="Hold";break;default:i="Pending"}if(ASSERT(o,l,d))return[{"@context":"http://schema.org","@type":"http://schema.org/EventReservation",reservationStatus:"http://schema.org/Reservation"+i,reservationId:a,reservationFor:{url:s,"@type":"http://schema.org/SocialEvent",name:o,startDate:l,location:valid(c)?{"@type":"http://schema.org/Place",name:c,address:d}:d,description:p},appleInvitedBy:g}]}},"SG3e87bdc8")]);