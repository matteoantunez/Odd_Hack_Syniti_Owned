(function(){return function(e,t,n){var a,r,o,s,p,i,c,g,d,m,h,x,l,T,y,u,C,v,f,S,A=Scanner.fromMessage(e);A.setLocale(t);var R="DriveNow";o=A.getDetachedSpan(e.subject).innerCapture(n.reservationId,1),i=c=A.getSpan().nextText(n.modifyUrl).nextLink(),a=A.getSpan().nextText(n.guestName).nextAnyTag("td").tagContents().innerCapture(regExpFormatted(/(.+)\s+</),1),r=A.getSpan().nextText(n.guestName).nextAnyTag("td").tagContents().innerLink(),m=A.getSpan().nextText(n.brand).nextAnyTag("td").tagContents(),S=A.getSpan().nextText(n.date).nextAnyTag("td").tagContents().innerDate(),u=A.getSpan().nextText(n.date).nextText(n.date).nextAnyTag("td").tagContents().innerDate(),v=A.getSpan().nextText(n.address).nextAnyTag("td").tagContents(),T=A.getSpan().nextText(n.address).nextText(n.address).nextAnyTag("td").tagContents(),f=A.getSpan().nextText(n.phone).nextAnyTag("td").tagContents(),y=A.getSpan().nextText(n.phone).nextText(n.phone).nextAnyTag("td").tagContents();var k=A.getSpan().nextText(n.price).nextAnyTag("td").tagContents();return g=k.innerCapture(/([\d,.]+)/,1),d=k.innerCapture(/([^\d,.]+)/,1),n.confirmSubject.test(e.subject)&&(s="Confirmed"),n.cancellationSubject.test(e.subject)&&(s="Cancelled"),0===m.toString().length||null===m?[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:g,priceCurrency:d,reservationId:o,reservationStatus:"http://schema.org/Reservation"+(s||"Confirmed"),checkinUrl:p,modifyReservationUrl:i,cancelReservationUrl:c,underName:{"@type":"http://schema.org/Person",name:a,email:r},provider:{"@type":"http://schema.org/Organization",name:R},pickupTime:S,pickupLocation:{"@type":"http://schema.org/Place",name:C,telephone:f,address:v},dropoffTime:u,dropoffLocation:{"@type":"http://schema.org/Place",name:l,telephone:y,address:T}}]:[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:g,priceCurrency:d,reservationId:o,reservationStatus:"http://schema.org/Reservation"+(s||"Confirmed"),checkinUrl:p,modifyReservationUrl:i,cancelReservationUrl:c,underName:{"@type":"http://schema.org/Person",name:a,email:r},provider:{"@type":"http://schema.org/Organization",name:R},reservationFor:{"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:m},license:h,color:x},pickupTime:S,pickupLocation:{"@type":"http://schema.org/Place",name:C,telephone:f,address:v},dropoffTime:u,dropoffLocation:{"@type":"http://schema.org/Place",name:l,telephone:y,address:T}}]}}).call();