(function(){return function(t,e,r){t.plain=t.plain.replace(new RegExp(String.fromCharCode("0x200b"),"g"),"");var a,n,i=Scanner.fromMessage(t);i.setLocale(e);try{a=i.getSpan().next(r.totalPrice).nextTag("td4").tagContents().innerCapture(/([\d,]+\.\d+)\s*([^ ]+)/)[1],n=i.getSpan().next(r.totalPrice).nextTag("td4").tagContents().innerCapture(/([\d,]+\.\d+)\s*([^ ]+)/)[2]}catch(k){}var o,g,p,s=[],l=i.getSpan().next(r.reservationIdentifier).nextAnyTag("td").nextAnyTag("td").tagContents().innerCapture(/([^(]+)/,1).trim();l.exists()||(l=i.getSpan().next(r.reservationIdentifier).nextAnyTag("td").tagContents());var d=i.getSpan().next(r.passengerName).tagContents(),u=i.getSpan().nextText(r.ticketNumberPrefix).parentAnyTag("td").tagContents().innerCapture(/:(.*)/,1);N=i.getSpan().next(r.legMarker).parentAnyTag("table").previousTag("table5");for(var T=i.getSpan().getString().match(r.legMarkerCounter).length;T--;){g=(o=N.nextTag("td5").nextTag("td5").tagContents()).getString().substr(0,2),o=o.getString().substr(2),p=N.nextTag("table5").nextTag("td5").tagContents().innerCapture(r.flightNameExtractor,1);var c,x,C=N.next(r.ticketClass).innerCapture(r.ticketClass,1),m=N.previousTag("table4").previousTag("table4"),v=m.nextTag("td4").nextTag("td4").replace(/\./g,"").innerDate(),h=m.nextTag("table5").nextTag("td5"),y=h.tagContents().innerDate();c=h.nextTag("td5").tagContents().innerCapture(r.locationExtractor)[1],x=h.nextTag("td5").tagContents().innerCapture(r.locationExtractor)[2];var b,A,S=(h=h.nextTag("td5").nextTag("td5").nextTag("td5")).tagContents().innerDate();b=h.nextTag("td5").tagContents().innerCapture(r.locationExtractor)[1],A=h.nextTag("td5").tagContents().innerCapture(r.locationExtractor)[2],S=combineDateAndTime(v,S),y=combineDateAndTime(v,y),ASSERT(p,g,o,x,c,y)&&s.push({airlineName:p,airlineCode:g,flightNumber:o,departureAirportCode:x,departureAirportFuzzy:c,departureTime:y,arrivalAirportFuzzy:b,arrivalAirportCode:A,arrivalTime:S,seatingType:C}),N=(N=N.nextTag("table4")).next(r.legMarker).parentAnyTag("table").previousTag("table5")}for(var f=[],z=0;z<s.length;z++){var N;f.push({"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:(N=s[z]).airlineName,airlineCode:N.airlineCode,flightNumber:N.flightNumber,departureAirportFuzzy:N.departureAirportFuzzy,departureAirportCode:N.departureAirportCode,departureTime:N.departureTime,arrivalAirportFuzzy:N.arrivalAirportFuzzy,arrivalAirportCode:N.arrivalAirportCode,arrivalTime:N.arrivalTime},underName:{"@type":"http://schema.org/Person",name:d},totalPrice:a,priceCurrency:n,reservationId:l,reservationStatus:"http://schema.org/ReservationConfirmed",reservedTicket:{"@type":"http://schema.org/Ticket",ticketNumber:u,ticketedSeat:{"@type":"http://schema.org/Seat",seatNumber:N.seatNumber,seatingType:N.seatingType}}})}return f}}).call();