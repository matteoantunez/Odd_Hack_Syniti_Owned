(function(){return function(e,t,n){var r,a,o,i,p,c,s,g,m,h,l,d,u,v,C,f,S,R,x,y,T=Scanner.fromMessage(e);T.setLocale(t);var N="Redspot";if(n.confirmSubject.test(e.subject)){o=T.getSpan().nextRegExp(n.reservationId).tagContents().innerCapture(n.reservationId,1),r=T.getSpan().nextRegExp(n.guestName).tagContents().innerCapture(n.guestName,1);var P=T.getSpan().nextText(n.pickup).parentTag("td4").tagContents();y=P.innerDate(),x=P.innerPhoneNumber(),R=(P=P.toString().split("\n")).slice(2,-2).toString();var E=T.getSpan().nextText(n.dropoff).parentTag("td4").tagContents();f=E.innerDate(),C=E.innerPhoneNumber(),v=(E=E.toString().split("\n")).slice(2,-2).toString(),h=T.getSpan().nextText(n.car).nextTag("td4").nextTag("td4").tagContents().innerCapture(/(.+)/,1);var I=T.getSpan().nextRegExp(n.price).tagContents().innerCapture(n.price,1);if(g=I.innerCapture(/([\d,.]+)/,1),m=I.innerCapture(/([^\d,.]+)/,1),!ASSERT(r,o,y,f,R,v))return CONTINUE}if(n.cancellationSubject.test(e.subject)){if(o=T.getSpan().nextRegExp(n.cancelReservationId).tagContents().innerCapture(n.cancelReservationId,1),!ASSERT(o))return CONTINUE;i="Cancelled"}return 0===h.toString().length||null===h?[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:g,priceCurrency:m,reservationId:o,reservationStatus:"http://schema.org/Reservation"+(i||"Confirmed"),checkinUrl:p,modifyReservationUrl:c,cancelReservationUrl:s,underName:{"@type":"http://schema.org/Person",name:r,email:a},provider:{"@type":"http://schema.org/Organization",name:N},pickupTime:y,pickupLocation:{"@type":"http://schema.org/Place",name:S,telephone:x,address:R},dropoffTime:f,dropoffLocation:{"@type":"http://schema.org/Place",name:u,telephone:C,address:v}}]:[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:g,priceCurrency:m,reservationId:o,reservationStatus:"http://schema.org/Reservation"+(i||"Confirmed"),checkinUrl:p,modifyReservationUrl:c,cancelReservationUrl:s,underName:{"@type":"http://schema.org/Person",name:r,email:a},provider:{"@type":"http://schema.org/Organization",name:N},reservationFor:{"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:h},license:l,color:d},pickupTime:y,pickupLocation:{"@type":"http://schema.org/Place",name:S,telephone:x,address:R},dropoffTime:f,dropoffLocation:{"@type":"http://schema.org/Place",name:u,telephone:C,address:v}}]}}).call();