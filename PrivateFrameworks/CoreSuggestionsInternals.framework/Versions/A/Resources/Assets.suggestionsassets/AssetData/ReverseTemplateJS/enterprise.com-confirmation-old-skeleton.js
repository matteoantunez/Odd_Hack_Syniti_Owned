(function(){return function(e,t,r){var n,a,i,o,p,s,c,d,g,m,x,h,f,l,P,u,S,v,E,y,C,$=Scanner.fromMessage(e);($.setLocale(t),n=$.getSpan().innerCapture(regExpFormatted(/\b\1 (.*)\s/,r.namePrefix),1),0===(a=$.getSpan().innerCapture(regExpFormatted(/\b\1 (\w+)\s/,r.reservationIdPrefix),1)).toString().length&&r.reservationIdPrefixAlt&&(a=$.getSpan().innerCapture(regExpFormatted(/\b\1 (\w+)\s/,r.reservationIdPrefixAlt),1)),p=o=$.getSpan().nextText(r.modifyReservationUrlPrefix).nextLink(),E=$.getSpan().next(r.pickUpDatePrefix).nextDate(),P=$.getSpan().next(r.dropOffDatePrefix).nextDate(),r.timePrefix)&&(y=E,(C=E.nextDate()).toString().match(regExpFormatted(/\1\s\d{1,2}\:\d{2}/,r.timePrefix))&&(E=combineDateAndTime(y,C)),y=P,(C=P.nextDate()).toString().match(regExpFormatted(/\1\s\d{1,2}\:\d{2}/,r.timePrefix))&&(P=combineDateAndTime(y,C)));S=P.nextAddress(),v=P.nextPhoneNumber();var F=regExpFormatted(/\1\s+($<name>.*)\s+($<address>[^]+?)\s+\2 ($<telephone>.*)\s/,r.pickUpHeader,r.pickUpPhonePrefix);(x=$.getSpan().innerCapture(F))&&(u=x.$name,(not(S)||x.$address.getLength()>S.getLength())&&(S=x.$address),not(v)&&(v=x.$telephone)),d=$.getSpan().nextText(r.carAndRatePrefix).withEnd($.getSpan().nextRegExp(regExpFormatted(/\1/,r.totalChargesPrefix)).getStart()).innerCapture(regExpFormatted(/\1\s+.*\s+(.*)\s+/,r.carAndRatePrefix),1);var R=$.getSpan().innerCapture(regExpFormatted(/\1\s+($<price>[\d,.]+)\s($<currency>[A-Z]{3})/,r.totalChargesPrefix));if(s=R?R.$price:null,c=R?R.$currency:null,ASSERT(S,E))return h||(h=u,f||(f=S),l||(l=v)),[{"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:s,priceCurrency:c,reservationId:a,reservationStatus:"http://schema.org/ReservationConfirmed",checkinUrl:i,modifyReservationUrl:o,cancelReservationUrl:p,underName:{"@type":"http://schema.org/Person",name:n},provider:{"@type":"http://schema.org/Organization",name:"Enterprise"},reservationFor:{"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:d},license:g,color:m},pickupTime:E,pickupLocation:{"@type":"http://schema.org/Place",name:u,telephone:v,address:S},dropoffTime:P,dropoffLocation:{"@type":"http://schema.org/Place",name:h,telephone:l,address:f}}]}}).call();