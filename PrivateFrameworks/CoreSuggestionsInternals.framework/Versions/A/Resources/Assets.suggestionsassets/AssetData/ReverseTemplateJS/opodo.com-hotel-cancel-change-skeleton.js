(function(){return function(e,t,n){var a,r,i=Scanner.fromMessage(e);i.setLocale(t),i.getSpan().nextRegExp(n.cancellationMessage).exists()?(a="Cancelled",r=i.getSpan().innerCapture(regExpFormatted(/\1 ([^,]+),/,n.namePrefix),1).trim()):i.getSpan().nextRegExp(n.modificationMessage).exists()&&(a="Confirmed",r=i.getSpan().nextText(n.guestNamePrefix).nextAnyTag("td").tagContents().trim());var o,g=i.getSpan().nextText(n.hotelNamePrefix).nextAnyTag("td").tagContents().trim(),x=i.getSpan().nextText(n.bookingNumberPrefix).nextAnyTag("td").tagContents().trim(),s=i.getSpan().nextText(n.guestEmailAddressPrefix).nextAnyTag("td").tagContents().trim(),m=i.getSpan().nextText(n.information).nextText(n.checkInTimePrefix).nextAnyTag("td"),c=m.allDates(),l=i.getDateDD(m.lastInnerDate());o=2===c.length&&c[1].toString().match(/\u2013/)&&l.iso8601&&l.endIso8601?combineDateAndTime(c[0],l.iso8601):getFuzzyDate(m);var p,T=i.getSpan().nextText(n.information).nextText(n.checkOutTimePrefix).nextAnyTag("td"),d=T.allDates();l=i.getDateDD(T.lastInnerDate()),p=2===d.length&&d[1].toString().match(/\u2013/)&&l.iso8601&&l.endIso8601?combineDateAndTime(d[0],l.endIso8601):getFuzzyDate(T);var h=i.getSpan().nextText(n.information,!0).nextText(n.hotelAddressPrefix).nextAnyTag("td").replace(/\n/g,", ").tagContents().trim(),f=i.getSpan().nextText(n.hotelTelephonePrefix).nextAnyTag("td").tagContents().trim(),S=i.getSpan().nextText(n.reservationUrlPrefix).nextLink(),u=i.getSpan().nextText(n.cancellationUrlPrefix).nextLink(),y=[];if(ASSERT(g,o,p)&&y.push({"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:r,email:s},checkinTime:o,checkoutTime:p,modifyReservationUrl:S,cancelReservationUrl:u,reservationStatus:"http://schema.org/Reservation"+a,reservationId:x,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:g,telephone:f,address:h}}),y.length)return y}}).call();