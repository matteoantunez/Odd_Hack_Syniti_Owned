new ReverseTemplateList([new ReverseTemplate("hostelworld.com-confirmation-en",function(e){return/^Confirmed booking from hostelworld\.com/.test(e.subject)},function(e){if(e.epoch>=1514764800)return CONTINUE;if(/^Confirmed booking from hostelworld\.com/.test(e.subject)){var t,r,n,o,a,i,s,c,p,u,m,l,d,g=Scanner.fromMessage(e);g.setLocale("en_US"),t=g.getSpan().innerCapture(/\bDear (.*),/,1),i=g.getSpan().innerCapture(/\bYour reference number is ([\d-]+)/,1),l=(r=g.getSpan().nextText("booking information").nextTag("td2").tagContents()).innerPhoneNumber(),d=r.innerAddress(),m=(p=r.withEnd(l.getStart()).innerCapture(/($<name>.*)\s($<address>[\s\S]+)/))?p.$name:null,not(d)&&(d=p?p.$address.trim():null),s=g.getSpan().nextText("Room Details").nextDate();for(var h=g.getSpan().nextRegExp(/(?:Total:|(Total Cost:|TOTAL \(taxes included\):))/).previousDate(),S=0;!h.isNullSpan_;)S++,h=h.previousDate();if(c=modifyDate(s,int(S.toString())),o=(n=g.getSpan().innerCapture(/\bTotal:\s+($<currency>[A-Z]+).*?($<total>[\d,.]+)/))?n.$total:null,a=n?n.$currency:null,ASSERT(s,d))return[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:t},totalPrice:o,priceCurrency:a,checkinTime:s,checkoutTime:c,reservationStatus:"http://schema.org/ReservationConfirmed",reservationId:i,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:m,url:u,telephone:l,address:d}}]}},"SG8f5aeb42"),new ReverseTemplate("hostelworld.com-reminder-en",function(e){return/^Hostelworld\.com Pre-trip Reminder/.test(e.subject)},function(e){if(/^Hostelworld\.com Pre-trip Reminder/.test(e.subject)){var t,r,n,o,a,i,s,c,p,u,m,l=Scanner.fromMessage(e);if(l.setLocale("en_US"),t=l.getSpan().innerCapture(/\bHi (.*),/,1),(r=l.getSpan().nextText("Your booking details").nextTag("table4").allInnerTagsFiltered("td4")).length>=6){a=r[0].innerCapture(/\bReservation Number: ([\d-]+)/,1),p=m=r[1].tagContents(),i=r[2].innerDate();var d=r[4].innerCapture(/\s($<currency>[A-Z]+).*?($<price>[\d,.]+)/),g=r[5].innerCapture(/\s($<currency>[A-Z]+).*?($<price>[\d,.]+)/);g&&(o=g.$currency,n=g.$price,valid(d,d.$price,n)&&(n=(parseFloat(n.toString())+parseFloat(d.$price.toString())).toFixed(2)))}if(ASSERT(i,m))return[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:t},totalPrice:n,priceCurrency:o,checkinTime:i,checkoutTime:s,reservationStatus:"http://schema.org/ReservationConfirmed",reservationId:a,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:p,url:c,telephone:u,address:m}}]}},"SG1e314577")]);