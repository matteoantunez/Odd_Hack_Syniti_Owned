(function(){return function(e,t,n){var r,a,o,i,s,g,c,p,m,d,h=Scanner.fromMessage(e);h.setLocale(t);var u=h.getSpan().nextTag("td1").nextTag("td1").tagContents();s=u.innerCapture(regExpFormatted(/\1: (\w+)/,n.bookingNumberPrefix),1).trim();var S=u.split("\n\n",5);p=S[1],d=h.getDetachedSpan(S[2].toString().concat(" ").concat(S[3].toString())),m=S[4].innerCapture(/: (.+)/,1);var x=h.getSpan().nextText(n.tripTotal).nextTag("td2").tagContents().trim();i=x.innerCapture(/([^\s\d,\.])/,1),o=h.getDetachedSpan(x.toString().replace(i,"")),r=h.getSpan().innerCapture(regExpFormatted(/\*(.+)\1/,n.nameSuffix),1).trim(),a=e.to;var v=h.getSpan().nextText(n.dates).nextDate(),l=h.getDateDD(v);if(l.iso8601&&l.endIso8601?(g=l.iso8601,c=l.endIso8601):g=v,ASSERT(d,g))return[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:r,email:a},totalPrice:o,priceCurrency:i,checkinTime:g,checkoutTime:c,reservationStatus:"http://schema.org/ReservationConfirmed",reservationId:s,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:p,telephone:m,address:d}}]}}).call();