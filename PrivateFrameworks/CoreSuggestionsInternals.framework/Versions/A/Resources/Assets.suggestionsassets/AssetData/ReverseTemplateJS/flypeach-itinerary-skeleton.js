(function(){return function(e,t,r){var a,n,i,o=Scanner.fromMessage(e);o.setLocale(r);var g,l,p,s,h,u,d,m,v,c,T=[],C={};a=o.getSpan().nextText(t.reservationId).nextAnyTag("td").tagContents();var f={};C=o.getSpan().nextText(t.passenger).parentTag("table1").allInnerTags("table2");for(var x=0;x<C.length;x++){if(!C[x].toString().match(t.passengerCheck))f[(g=C[x].allInnerTags("td2")[1].tagContents()).toString()]={name:g}}var A=o.getSpan().nextText(t.flight).parentTag("table1").allInnerTags("table2");for(x=0;x<A.length;x++)if(!A[x].toString().match(t.flightCheck))for(var S=A[x].allInnerTags("tr2"),b=0;b<S.length;b++)T.push(S[b]);var y=[],N=[],k=o.getSpan().nextText(t.passenger);for(x=0;x<T.length;x++){var I=[];s=(p=(N=T[x].allInnerTags("td2"))[0].tagContents().innerCapture(/($<airlineCode>[A-Z]{2})($<flightNumber>\d+)/)).$airlineCode,l=p.$flightNumber,h=unSpanDate_(N[1].innerDate());var z=N[1].tagContents().innerCapture(/(.+?)(?:\(.+)?\(([A-Z]+?)\)/);u=z[1],d=z[2],m=unSpanDate_(N[2].innerDate());var F=N[2].tagContents().innerCapture(/(.+?)(?:\(.+)?\((.+?)\)/);v=F[1],c=F[2];for(var D=Object.keys(f),$=0;$<D.length;$++){var R=k.nextText(p[0]).nextText(D[$]).nextAnyTag("td").nextAnyTag("td").tagContents();i=R.nextAnyTag("td").nextAnyTag("td").tagContents(),I.push({name:D[$],ticketNumber:R,seat:i}),k=R}ASSERT(s,l,h,m,d,c)&&y.push({airlineCode:s,flightNumber:l,departureTime:h,arrivalTime:m,departureAirport:u,arrivalAirport:v,departureCode:d,arrivalCode:c,passengers:I})}var P=[];for(x=0;x<y.length;x++){var Z,_=(Z=y[x]).passengers;for(b=0;b<_.length;b++){var j=_[b];P.push({"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:"Peach Aviation",airlineCode:Z.airlineCode,flightNumber:Z.flightNumber,departureAirportFuzzy:Z.departureAirport,departureAirportCode:Z.departureCode,departureTime:Z.departureTime,arrivalAirportFuzzy:Z.arrivalAirport,arrivalAirportCode:Z.arrivalCode,arrivalTime:Z.arrivalTime},underName:{"@type":"http://schema.org/Person",name:j.name},checkinUrl:n,reservationId:a,reservationStatus:"http://schema.org/ReservationConfirmed",reservedTicket:{"@type":"http://schema.org/Ticket",ticketNumber:j.ticketNumber,ticketedSeat:{"@type":"http://schema.org/Seat",seatNumber:j.seat}}})}}if(P.length)return P}}).call();