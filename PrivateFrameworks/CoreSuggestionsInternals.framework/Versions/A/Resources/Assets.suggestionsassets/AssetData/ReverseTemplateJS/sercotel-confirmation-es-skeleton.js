(function(){return function(e,t,n){var r,a,i,o,c,s,g,l,p,u,m,h,d,x,C=Scanner.fromMessage(e);C.setLocale(t),p=(l=C.getSpan().next(n.bookingDetails).nextDate()).nextDate(),s=C.getSpan().next(n.confirmation).innerCapture(n.confirmation,1),o=(i=C.getSpan().next(n.totalPrice).innerCapture(n.totalPrice)).$price,c=i.$currency,r=(x=C.getSpan().nextTag("td1").nextTag("td1")).innerCapture(n.guestName,1),a=x.innerCapture(n.guestEmail,1);var S=C.getSpan().next(n.hotelDetails).nextAnyTag("td");if(u=S.innerCapture(n.hotelName,1),m=S.nextPhoneNumber(),n.isCancelled.test(e.subject)&&(g="Cancelled"),ASSERT(r,l,p,m))return[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:r,email:a},totalPrice:o,priceCurrency:c,checkinTime:l,checkoutTime:p,modifyReservationUrl:d,reservationStatus:"http://schema.org/Reservation"+(g||"Confirmed"),reservationId:s,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:u,url:null,telephone:m,address:h}}]}}).call();