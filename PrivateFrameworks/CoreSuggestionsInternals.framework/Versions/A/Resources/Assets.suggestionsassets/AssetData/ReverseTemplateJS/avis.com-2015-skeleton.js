(function(){return function(e,t,n){if(e.epoch>1514764800)return CONTINUE;var a,r,s,p,o,d,g,i,c,x,A,T,l,h,m,y,u,C,S=Scanner.fromMessage(e);if(S.setLocale(t),r=S.getSpan().next(n.name).parentAnyTag("td").tagContents().innerCapture(n.name,1),h=(C=S.getSpan().nextText(n.pickup).parentAnyTag("td").tagContents().innerDate()).nextAnyTag("td").tagContents().innerDate(),(p=S.getSpan().nextText(n.reservationId).nextAnyTag("td").tagContents()).nextLink(),i=S.getSpan().nextText(n.brand).nextAnyTag("td").nextAnyTag("td").tagContents(),d=(a=S.getSpan().nextText(n.price).nextAnyTag("td").tagContents()).innerCapture(/([\d,.]+)/,1),g=a.innerCapture(/([^\d,.]+)/,1),m=S.getSpan().nextText(n.pickupAddress).nextAnyTag("td").tagContents(),(y=S.getDetachedSpan(S.getSpan().nextText(n.pickupAddress).parentAnyTag("table").allInnerAddresses().join(", ")).lastInnerAddress()).exists()||(y=S.getSpan().next(n.pickupAddress).nextAnyTag("td").tagContents()),u=S.getSpan().next(n.pickupAddress).parentAnyTag("table").innerPhoneNumber(),A=S.getSpan().nextText(n.dropoffAddress).nextAnyTag("td").tagContents(),(T=S.getDetachedSpan(S.getSpan().nextText(n.dropoffAddress).parentAnyTag("table").allInnerAddresses().join(", ")).lastInnerAddress()).exists()||(T=S.getSpan().next(n.dropoffAddress).nextAnyTag("td").tagContents()),l=S.getSpan().next(n.dropoffAddress).parentAnyTag("table").innerPhoneNumber(),n.cancellation.test(e.subject)&&(o="Cancelled"),ASSERT(p,r,y,C)){var f={"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:d,priceCurrency:g,reservationId:p,reservationStatus:"http://schema.org/Reservation"+(o||"Confirmed"),underName:{"@type":"http://schema.org/Person",name:r,email:s},provider:{"@type":"http://schema.org/Organization",name:"Avis"},pickupTime:C,pickupLocation:{"@type":"http://schema.org/Place",name:m,telephone:u,address:y},dropoffTime:h,dropoffLocation:{"@type":"http://schema.org/Place",name:A,telephone:l,address:T}};return i&&(f.reservationFor={"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:i},license:c,color:x}),[f]}}}).call();