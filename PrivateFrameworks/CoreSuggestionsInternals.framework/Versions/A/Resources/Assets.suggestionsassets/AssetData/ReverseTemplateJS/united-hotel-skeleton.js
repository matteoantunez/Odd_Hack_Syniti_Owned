(function(){return function(e,t){var n,a,r,o,s,i,c,g,h,d,m,l,p={};p.name="Guest Name:",p.reservationId="United Airlines Itinerary Number:",p.hotelName="Hotel",p.hotelAddress="Address:",p.hotelPhone="Telephone:",p.checkInDateTime="Check-in:";var u=Scanner.fromMessage(e);if(u.setLocale(t),n=u.getSpan().next(p.name).nextAnyTag("td").tagContents(),o=u.getSpan().next(p.reservationId).nextAnyTag("td").tagContents(),h=u.getSpan().next(p.hotelName).nextAnyTag("td").nextAnyTag("td").tagContents().innerCapture(/([^\[\]]*)/,1).trim(),m=u.getSpan().next(p.hotelAddress).nextAnyTag("td").tagContents().innerAddress(),d=u.getSpan().next(p.hotelPhone).nextAnyTag().innerPhoneNumber(),c=(i=u.getSpan().next(p.checkInDateTime).nextDate()).nextDate(),/Cancellation/.test(e.subject)&&(s="Cancelled"),ASSERT(n,i,c))return[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:n},totalPrice:a,priceCurrency:r,checkinTime:i,checkoutTime:c,modifyReservationUrl:l,reservationStatus:"http://schema.org/Reservation"+(s||"Confirmed"),reservationId:o,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:h,url:g,telephone:d,address:m}}]}}).call();