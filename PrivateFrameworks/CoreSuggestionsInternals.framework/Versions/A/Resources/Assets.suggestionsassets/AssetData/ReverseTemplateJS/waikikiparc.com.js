(function(){return function(e,t,n){var a,r,i,g,o,c,p,s,x,l,m,u,C,d,h,R,S,E,T=Scanner.fromMessage(e);if(T.setLocale(t),!n.emailTitelConfirmation.test(e.subject)&&!n.emailTitelCancelConfirmation.test(e.subject))return CONTINUE;o=T.getSpan().nextRegExp(n.reservationId).nextAnyTag("td").tagContents().innerCapture(/([\w\d]+)/,1),a=T.getSpan().nextRegExp(n.guestName).nextAnyTag("td").tagContents(),s=T.getSpan().nextRegExp(n.checkInDate).nextAnyTag("td").tagContents().innerDate(),p=T.getSpan().nextRegExp(n.checkInTime).nextDate(),m=T.getSpan().nextRegExp(n.checkOutDate).nextAnyTag("td").tagContents().innerDate(),l=T.getSpan().nextRegExp(n.checkOutTime).nextDate(),x=getFuzzyDate(T.getDetachedSpan(s+" "+p).innerDate()),u=getFuzzyDate(T.getDetachedSpan(m+" "+l).innerDate());var D=T.getSpan().nextRegExp(n.price).nextAnyTag("td").tagContents();if(i=D.innerCapture(/([\d,.]+)/,1),g=D.innerCapture(/([^\d,.]+)/,1).trim(),S=E=T.getSpan().nextRegExp(n.reservationId).nextAnyTag("td").tagContents().innerLink(),d=T.getSpan().nextRegExp(n.hotelName).tagContents().innerCapture(n.hotelName,1),C=T.getSpan().nextRegExp(n.hotelUrl).nextLink(),h=T.getSpan().nextRegExp(n.hotelPhone).nextPhoneNumber(),n.emailTitelConfirmation.test(e.subject)){if(!ASSERT(a,o,x,u,d))return CONTINUE;c="Confirmed"}if(n.emailTitelCancelConfirmation.test(e.subject)){if(o=T.getSpan().nextRegExp(n.cancelReservationId).tagContents().innerCapture(n.cancelReservationId,1),x=T.getSpan().nextRegExp(n.checkInDate).nextDate(),u=T.getSpan().nextRegExp(n.checkOutDate).nextDate(),a=T.getSpan().nextRegExp(n.cancelGuestName).nextAnyTag("td").tagContents().innerCapture(/(.+)/,1),r=T.getSpan().nextRegExp(n.cancelGuestName).nextAnyTag("td").tagContents().innerLink(),d="Waikiki Parc Hotel",!ASSERT(a,o,x,u,d))return CONTINUE;c="Cancelled"}return[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:a,email:r},totalPrice:i,priceCurrency:g,checkinTime:x,checkoutTime:u,modifyReservationUrl:S,cancelReservationUrl:E,reservationStatus:"http://schema.org/Reservation"+(c||"Confirmed"),reservationId:o,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:d,url:C,telephone:h,address:R}}]}}).call();