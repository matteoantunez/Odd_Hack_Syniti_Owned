(function(){return function(e,t,a){if(!e||!t||!a)return CONTINUE;var r,n,o,p,c,s,i,m,g,u,d,h,l,S,E,$,C,x=Scanner.fromMessage(e);return x.setLocale(t),r=x.getSpan().innerCapture(regExpFormatted(/\1 \w+ (.*),/,a.hello),1),(o=x.getSpan().innerCapture(regExpFormatted(/\1 : ($<totalPrice>[\d\s,\.]+) ($<priceCurrency>.*)\./,a.amount)))&&(n=o.$totalPrice,C=o.$priceCurrency),seat=x.getSpan().nextText(a.detail+" :").collapseToEnd().withEnd(x.getSpan().nextText(a.amount).getStart()).trim().innerCapture(regExpFormatted(/($<seatNumber>\d+) ($<seatRow>.*)/)),seat&&(s=seat.$seatNumber,$=seat.$seatRow),i=x.getSpan().innerCapture(regExpFormatted(/\1 .+ \/ (.*)/,a.category),1),g=x.getSpan().innerCapture(regExpFormatted(/\1 : (.*)/,a.number),1),(u=x.getSpan().innerCapture(regExpFormatted(/\1 : \n\n- ($<eventName>.+)\n($<place>.+)\n($<startDate>.+)\n/,a.part)))&&(c=u.$eventName,l=u.$place,p=u.$startDate),ASSERT(p,c)?[{"@context":"http://schema.org","@type":"http://schema.org/EventReservation",name:r,totalPrice:n,priceCurrency:C,reservedTicket:{"@type":"http://schema.org/Ticket",ticketedSeat:{"@type":"http://schema.org/Seat",seatNumber:s,seatRow:$,seatSection:i},ticketToken:m,ticketNumber:g},reservationFor:{"@type":"http://schema.org/Event",eventStatus:"http://schema.org/EventConfirmed",name:c,url:h,startDate:p,endDate:E,location:{"@type":"http://schema.org/Place",name:l,telephone:S,address:d}}}]:CONTINUE}}).call();