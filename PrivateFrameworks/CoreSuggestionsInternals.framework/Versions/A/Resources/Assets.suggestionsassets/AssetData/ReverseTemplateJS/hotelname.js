(function(){return function(e,t,r){var a=t.getNullSpan(),n=loadHelper("hotel_name_filter.js"),l=r.subject.replace(/\r?\n/gm," ").replace(/\s+/g," ");if(!r.html||0===r.html.length)return a;var i="*";for(var o in r.from.length>0&&(i=-1!==r.from.indexOf("@")?r.from.split("@")[1].toLowerCase():r.from.toLowerCase()),r.html=r.html.replace(/\s+/g," "),e.hotelNameHTMLCapture){if(e.hotelNameHTMLCapture.hasOwnProperty(o)&&("*"===o||i===o||new RegExp(o).test(i)))for(var h=0;h<e.hotelNameHTMLCapture[o].length&&!a.exists();h++){var m=r.html.match(e.hotelNameHTMLCapture[o][h]);m&&2===m.length&&!/<[a-z].+?>/i.test(m[1])&&((a=t.getSpan().next(m[1].trim())).exists()||(a=t.getDetachedSpan(m[1].trim())))}if(a.exists())return n(a)}for(h=0;h<e.hotelNameCapture.length&&(!a||!a.exists());h++)if((a=t.getSpan().innerCapture(e.hotelNameCapture[h],1).trim()).exists())return n(a);for(h=0;h<e.hotelNameSubjectCapture.length&&(!a||!a.exists());h++)if((a=t.getDetachedSpan(l).innerCapture(e.hotelNameSubjectCapture[h],1).trim()).exists())return n(a);return a}}).call();