new ReverseTemplateList([new ReverseTemplate("travelocity.com-car-cancellation-en",function(e){return/^Travelocity Car Booking Cancell?ed/.test(e.subject)},function(e){if(/Travelocity travel confirmation -/.test(e.subject))return CONTINUE;if(/^Travelocity Car Booking Cancell?ed/.test(e.subject)){var t="en_US",r={total:"Total Price",reserved:"Reserved for",pickUp:"Pick up",dropOff:"Drop off",cancelled:/travelocity Car Booking Cancelled/i};return loadHelper("travelocity.com-car-skeleton.js")(e,t,r)}},"SG117c78a2"),new ReverseTemplate("travelocity.com-flight-cancellation-en",function(e){return/Itinerary#/.test(e.subject)||/[^\n-]\s-\s\w{2,4}\.?\s\d?\d\s\(/.test(e.subject)||/Your flight itinerary is canceled/.test(e.subject)},function(e){if(/Travelocity travel confirmation -/.test(e.subject)||/^Itinerary.*?\(Itin/.test(e.subject))return CONTINUE;if(/This reservation has been fully cancelled/.test(e.plain)){var t="en_US",r={flightSummary:"Airline Rules & Regulations",names:"Traveler Information",price:"Price Summary",totalPrice:"Total:",priceCurrency:"All prices quoted in",frequentFlyer:"No frequent flyer details",programName:"Frequent Flyer",ticketNumber:"Ticket",travelerInfo:"Traveler Information",importantInfo:"Important Information",reservationId:"Itinerary #",dateSpecified:/Arrival/,cancelled:/This reservation has been fully cancelled/};if((a=loadHelper("travelocity-flight-skeleton.js")(e,t,r))!==undefined)return a}if(/Your flight itinerary is canceled/.test(e.subject)){var a;t="en_US",r={};return a=loadHelper("travelocity.com-flight-skeleton-cancellaton-alt.js")(e,t,r)}},"SG67908391"),new ReverseTemplate("travelocity.com-flight-change-en",function(e){return/^Changes have been made to your.*flight$/.test(e.subject)},function(e){if(/Travelocity travel confirmation -/.test(e.subject))return CONTINUE;if(/Changes have been made to your.*flight$/.test(e.subject)){var t,r,a,i,n,o,l,s,c,u,d="en_US",v={};v.itinerary="Your updated flight itinerary is below",v.flightNumber="Flight Number:",v.from="From:",v.to="To:",v.arrive="Arrive:",v.seatingType="Class:",v.passengers="Passenger(s):",v.reservationId="Travelocity Itinerary Number:",v.seatNumber="Seat:";var f=[],m=[],p=Scanner.fromMessage(e);for(p.setLocale(d),l=p.getSpan().next(v.reservationId).parentAnyTag("td").tagContents().innerCapture(regExpFormatted(/\1\s+(.*)/,v.reservationId),1),t=p.getSpan().next(v.itinerary).nextAnyTag("table").allInnerTags("tr2"),s=p.getSpan().next(v.passengers).parentAnyTag("td").tagContents().innerCapture(regExpFormatted(/\1\s+(.*)/,v.passengers),1),m.push(s),r=0;r<t.length;r++)t[r].tagContents().innerCapture(/\s+to\s+/)&&((c={}).reservationStatus=t[r].nextAnyTag("td").nextAnyTag("td").tagContents().innerCapture(/Cancelled/)?"Cancelled":"Confirmed",a=t[r].nextDate().parentAnyTag("td").lastInnerDate(),i=t[r].next(v.flightNumber).parentAnyTag("td").tagContents().innerCapture(regExpFormatted(/\1\s+($<airlineCode>[A-Z]+)(?:($<flightNumber1>\d+)|.*\s+($<flightNumber2>\d+)\s+\()/,v.flightNumber)),c.airlineCode=i.$airlineCode,c.flightNumber=""===i.$flightNumber1.toString()?i.$flightNumber2:i.$flightNumber1,c.airlineName=c.airlineCode.previousAnyTag("td").tagContents(),i=c.airlineName.next(v.from).parentAnyTag("td").tagContents().innerCapture(regExpFormatted(/\1\s+($<departureAirport>.*),.*\(($<departureCode>.*)-/,v.from)),c.departureAirport=i.$departureAirport,c.departureCode=i.$departureCode,i=c.airlineName.next(v.to).parentAnyTag("td").tagContents().innerCapture(regExpFormatted(/\1\s+($<arrivalAirport>.*),.*\(($<arrivalCode>.*)-/,v.to)),c.arrivalAirport=i.$arrivalAirport,c.arrivalCode=i.$arrivalCode,c.arrivalTime=c.airlineName.next(v.arrive).parentAnyTag("td").tagContents().lastInnerDate(),c.departureTime=a,c.arrivalTime=combineDateAndTime(a,c.arrivalTime),c.seatingType=c.airlineName.next(v.seatingType).parentAnyTag("td").tagContents().innerCapture(regExpFormatted(/\1\s+(.*)/,v.seatingType),1),c.seatNumber=c.seatingType.nextAnyTag("tr").inner(v.seatNumber).parentAnyTag("td").tagContents().innerCapture(regExpFormatted(/\1\s+(.*)/,v.seatNumber),1),ASSERT(c.departureTime,c.arrivalTime,c.departureCode,c.arrivalCode,c.airlineCode,c.flightNumber)&&f.push(c));var h=[];for(r=0;r<f.length;r++){var y=f[r];for(u=0;u<m.length;u++)h.push({"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:y.airlineName,airlineCode:y.airlineCode,flightNumber:y.flightNumber,departureAirportFuzzy:y.departureAirport,departureAirportCode:y.departureCode,departureTime:y.departureTime,arrivalAirportFuzzy:y.arrivalAirport,arrivalAirportCode:y.arrivalCode,arrivalTime:y.arrivalTime},underName:{"@type":"http://schema.org/Person",name:m[u]},checkinUrl:y.checkinUrl,reservationId:l,reservationStatus:"http://schema.org/Reservation"+(y.reservationStatus||"Confirmed"),reservedTicket:{"@type":"http://schema.org/Ticket",ticketNumber:null,ticketedSeat:{"@type":"http://schema.org/Seat",seatNumber:y.seatNumber,seatingType:y.seatingType}},totalPrice:n,priceCurrency:o})}if(h.length)return h}},"SGc8329419"),new ReverseTemplate("travelocity.com-flight-confirmation-en",function(e){return/^Travelocity travel confirmation/.test(e.subject)||/Itinerary#/.test(e.subject)},function(e){if(/Travelocity travel confirmation -/.test(e.subject))return CONTINUE;if(/Travelocity travel confirmation/.test(e.subject)||/Itinerary#/.test(e.subject)&&/Additional Flight Services/.test(e.plain)){var t="en_US",r={flightSummary:"Airline Rules & Regulations",names:/Travell?er Information/,price:"Price Summary",totalPrice:"Total:",priceCurrency:"All prices quoted in",frequentFlyer:"No frequent flyer details",programName:"Frequent Flyer",ticketNumber:"Ticket",travelerInfo:/Travell?er Information/,importantInfo:"Important Information",reservationId:"Itinerary #",dateSpecified:/Arrives/,cancelled:/This reservation has been fully cancelled/};return loadHelper("travelocity-flight-skeleton.js")(e,t,r)}},"SG602125d9"),new ReverseTemplate("travelocity.com-hotel-cancellation-en",function(e){return/^Travelocity Hotel (?:Cancellation)?\s*Confirmation/.test(e.subject)},function(e){if(/Travelocity travel confirmation -/.test(e.subject))return CONTINUE;if(/^Travelocity Hotel Cancellation Confirmation/.test(e.subject)||/All rooms in this reservation have been cancelled/.test(e.plain)){var t,r="en_US",a={};return/All rooms in this reservation have been cancelled/.test(e.plain)?(a=loadHelper("travelocity.com-vocabulary-en.js")().hotel,t=loadHelper("travelocity.com-hotel-confirmation-skeleton.js")):(a.name="Reserved for",a.reservationId="Travelocity Itinerary number:",t=loadHelper("travelocity.com-hotel-cancellation-skeleton.js")),t(e,r,a)}},"SG331dadea"),new ReverseTemplate("travelocity.com-hotel-confirmation-en",function(e){return/(^Travelocity travel confirmation|Itinerary\s*#)/.test(e.subject)},function(e){if(/Travelocity travel confirmation -/.test(e.subject))return CONTINUE;if(/(^Travelocity travel confirmation|Itinerary\s*#)/.test(e.subject)){var t,r;if(!/car rental/i.test(e.html)&&/Additional Hotel Services/.test(e.plain))return t="en_US",r=loadHelper("travelocity.com-vocabulary-en.js")().hotel,loadHelper("travelocity.com-hotel-confirmation-skeleton.js")(e,t,r);if(/^Travelocity travel confirmation/.test(e.subject)&&/Hotel overview/.test(e.plain))return t="en_US",(r={}).underPersonName="Reserved for",r.reservationId="Itin#",r.hotelDetails="Hotel overview",r.dates="Reservation dates",r.checkIn="Check-in time",r.checkOut="Check-out time",r.total="Total",r.cancelled=/All rooms in this reservation have been cancelled/,loadHelper("travelocity.com-hotel-skeleton-2.js")(e,t,r)}},"SGd8efdf7f"),new ReverseTemplate("travelocity.com-travel-confirmation-en",function(e){return/^Travelocity\s+travel\s+confirmation/.test(e.subject)||/^Itinerary/.test(e.subject)||/(?:Travelocity travel confirmation)?(?:\/e-Ticket)?\s-\s\d?\d?\s\w{3,4}\s-\sItin/.test(e.subject)||/(?:Travelocity travel confirmation)?(?:\/e-Ticket)?\s-\s\d?\d?\s\w{3,4}\s-\s\(Itin/.test(e.subject)||/Car rental in\s[\w\s]+-.+?\s\(Itin/.test(e.subject)||/Your flight cancel details and updated itinerary/.test(e.subject)||/\(Itinerary # \d+/.test(e.subject)},function(e){var t=!1,r=!1,a=!1,i=!1,n=!1,o=!1,l=!0;if(/^Travelocity confirmation(?:\/e-Ticket)?\s-\s\w{3,4}\s\d?\d,\s\d{4}\s-\s\(Itin/.test(e.subject)){(c={flight:{},hotel:{},car:{},reservationId:"Itinerary number:",totalPrice:"Package total:",taxes:"Taxes"}).flight.names=/\sTravell?er names?:/,c.flight.to="to",c.hotel.name="Room reservation:",c.hotel.totalPrice="Lodging total:",c.hotel.telephone="Phone:",c.hotel.checkin="Check in:",c.hotel.checkout="Check out:",c.car.name="Driver:",c.car.totalPrice="Car total:",c.car.provider="Car:",c.car.pickup=/Pick up:/i,c.car.dropoff=/Drop off:/i;var s="en_US";return(u=loadHelper("travelocity.com-travel-confirmation-skeleton.js"))(e,s,c)}if((/Travelocity\s*travel confirmation\s-\s[^\n,\.]{3,15},?\s\w\w\s\(\d?\d\)\s-\s\w{2,4}\s\d?\d,\s\d{4}\s-\s\(Itin/.test(e.subject)||/Travelocity\s*travel confirmation\s-\s[^\n]{3,15},?\s\w{1,4}\.?\s\d{4}\s-\s\(Itin/.test(e.subject)||/Travelocity\s*travel confirmation\s-\s[\w\s]{3,20},\s\w{2,3}\.?\s-\s\w{2,3}\.?\s\d?\d,\s\d{4}\s-\s\(Itin/.test(e.subject)||/Travelocity\s*travel confirmation\s-\s[^\n]{3,15},\s\w{2,3},\s[^\n]{3,15}\s-\s\d?\d\s\w{2,4}\.?\s\d{4}\s-\s\(Itin/.test(e.subject))&&!/Activities: .+/.test(e.plain)){s="en_US";"TravelocityCanada@e.travelocity.com"===e.from.toString()&&(s="en_CA");var c={flightSummary:"Flight summary",departure:/Depart/i,arrival:"Arrive",flight:"Flight:",passengers:"Traveler and cost summary",flightReservationId:"Travelocity booking ID (flight):",carSummary:"Car rental summary",carPickup:/Pick up:/,carDropoff:"Drop off:",carLocation:"Location:",carReservationId:"Car confirmation number:",contactPerson:"Main contact:",traveller:"NOT_DEFINED_YET",hotelSum:/Hotel summary/,hotelCheckIn:/Check in: /,hotelCheckOut:/Check out: /,hotelContact:/Contact: /,itineraryNumber:/Travelocity itinerary number:/};return loadHelper("travelocity.com-travel-confirmation-alternative-skeleton.js")(e,s,c)}var u,d=[],v=[];s="en_US";if(/(?:Travelocity confirmation)?(?:\/e-Ticket)?\s-\s\w{3,4}\s\d?\d(?:\, \d{4})?\s-\s\(?Itin/.test(e.subject)||/(?:Travelocity travel confirmation)?(?:\/e-Ticket)?\s-\s\d?\d\s\w{2,4}\.?\s-\s\(Itin/.test(e.subject)||/Thanks!/.test(e.plain)||/E-ticket\s-\s[a-zA-Z\s]+\s-\s\d?\d\s[A-Za-z\.]+\s\(Itiner/.test(e.subject)||/Car rental in\s[\w\s]+-.+?\s\(Itin/.test(e.subject)||/Travelocity travel confirmation\s-\s\d?\d\s\w{2,4}\.?\s-\sItin/.test(e.subject)||/^Itinerary.*?\(Itin/.test(e.subject)||/Your flight cancel details and updated itinerary/.test(e.subject)||/\(Itinerary # \d+/.test(e.subject)){(/Additional Hotel Services/.test(e.plain)||/View hotel details/.test(e.plain))&&(a=!0),(/Additional Flight Services/.test(e.plain)||/Flight overview/.test(e.plain))&&(t=!0),(/Additional Car Services/.test(e.plain)||/Drop off/.test(e.plain)&&/Pick up/.test(e.plain))&&(r=!0);c={flight:{},hotel:{},car:{}};if(t)if(/Thanks!/.test(e.plain)){c.date=/(Departure|Return)/,c.cabin=/(Cabin:)/,c.passengers=/Traveler\(s\)/,c.passengerEnd="Special requests",c.reservationId="Itinerary #",c.traveler=/Traveler\(s\)/,c.ticketNumber=/Ticket #/,u=loadHelper("travelocity.com-flight-itinerary-skeleton-2.js");var f=!1;try{d.push(u(e,s,c))}catch(y){}d.forEach(function(e){e===undefined&&(f=!0)}),!0!==f&&0!==d.length||(i=!0,l=!1,d=d.filter(function(e){return e!==undefined}))}else c.travellers=/Travell?er Information/,c.priceSummary="Price Summary",c.priceCurrency="All prices quoted in",c.totalPrice="Total:",c.reservationId="Itinerary #",c.cancelled=/This reservation has been fully cancell?ed/,c.noProgramName="No frequent flyer details provided",c.ticketNumber="Ticket #",c.totalTravelTime="Total travel time",c.seat="Seat",c.traveler=/Traveler\(s\)/,u=loadHelper("travelocity.com-flight-itinerary-skeleton.js"),d.push(u(e,s,c));if(a){var m={reservationId:"Itinerary #",reservedFor:"Reserved for",totalPrice:"Total"};if(/Thanks!/.test(e.plain)){m.hotelDetails="Hotel overview",m.reservationDetails="Reservation dates",m.checkInTime="Check-in time",m.checkOutTime="Check-out time",m.hotelUrl="View hotel",m.check="Check-in",u=loadHelper("travelocity.com-hotel-itinerary-skeleton-alternative.js");f=!1;try{d.push(u(e,s,c))}catch(y){}d.forEach(function(e){e===undefined&&(f=!0)}),!0!==f&&0!==d.length||(o=!0,l=!1,d=d.filter(function(e){return e!==undefined}))}else m.hotelDetails="View hotel details <",m.telephone="Tel:",m.checkin=/(?:Checking in|Check-in)/,m.checkinTime="Check-in time starts",m.priceSummary="Price Summary",m.priceCurrency="All prices quoted in",m.cancelled=/CANCELLED/,m.check="Check-in",u=loadHelper("travelocity.com-hotel-itinerary-skeleton.js"),d.push(u(e,s,m))}if(r){c.booking="Confirmation",c.pickUp="Pick up",c.dropOff="Drop off",c.car="Car",c.reserved="Reserved for",c.cancelled=/.*Cancelled/,u=loadHelper("travelocity.com-car-skeleton-3.js");f=!1;try{d.push(u(e,s,c))}catch(y){}d.forEach(function(e){e===undefined&&(f=!0)}),!0!==f&&0!==d.length||(n=!0,l=!1,d=d.filter(function(e){return e!==undefined}))}}if(/(?:Travelocity travel confirmation)?(?:\/e-Ticket)?\s-\s\w{3,4}\s\d?\d\s-\s*\(Itin/.test(e.subject),/Thanks!/.test(e.plain)||/Car rental in\s[\w\s]+-\s\w{1,4}\.?\s\d?\d,\s\d{4}\s\(Itin/.test(e.subject)||/Rental car overview/.test(e.plain)||/Hotel overview/.test(e.plain)){t=!1,r=!1,a=!1,(/Check-in/.test(e.plain)||/Hotel overview/.test(e.plain))&&(a=!0),(/booked a flight/.test(e.plain)||/Flight overview/.test(e.plain))&&(t=!0),(/Car rental/.test(e.plain)||/Car rental in/.test(e.plain))&&(r=!0),d.length>0&&(t=!1,r=!1,a=!1);c={flight:{},hotel:{},car:{}};if(t&&(i||l)){c.flight.dates="Travel dates",c.flight.itNum="Itinerary #",c.flight.confirmation="Confirmation",c.flight.ticket="Ticket #",c.flight.departure="Departure",c.flight["return"]="Return",c.flight.passengers="Traveler(s)",c.flight.cancelled=/Your flight has been cancelled/,c.flight.op="operated by",c.flight.dep="Departure",c.flight.ari="Return",c.flight.traveler=/Traveler\(s\)/,u=loadHelper("travelocity.com-flight-itinerary-alternative-skeleton-3.js");try{d.push(u(e,s,c.flight))}catch(y){}}r&&(n||l)&&(c.booking="Confirmation",c.pickUp="Pick-up",c.dropOff="Drop-off",c.car="Car",c.reserved="Reserved for",c.cancelled=/.*Cancelled/,c.type="Car type",c.phone="Specific questions about your car?",c.itinerary="Itinerary #",c.thanks="Thanks!",c.cancelUrl="Cancel your reservation",c.checkForProvider=/reservation is booked and confirmed\./,c.traveler=/Traveler\(s\)/,u=loadHelper("travelocity.com-car-skeleton-4.js"),d.push(u(e,s,c))),a&&(o||l)&&(c.itinerary="Itinerary #",c.checkIn="Check-in time",c.checkOut="Check-out time",c.hotelUrl="View hotel <",c.hotel="Hotel overview",c.reservationDate="Reservation dates",c.reservedFor="Reserved for",c.traveler=/Traveler\(s\)/,u=loadHelper("travelocity.com-hotel-itinerary-skeleton-alternative-2.js"),d.push(u(e,s,c)))}d=d.filter(function(e){return e!==undefined});for(var p=0;p<d.length;p++)for(var h=0;h<d[p].length;h++)v.push(d[p][h]);return v},"SG60929375")]);