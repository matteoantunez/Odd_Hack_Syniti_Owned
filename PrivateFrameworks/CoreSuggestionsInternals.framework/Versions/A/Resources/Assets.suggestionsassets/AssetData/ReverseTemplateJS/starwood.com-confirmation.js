(function(){return function(e,t,n){if(!e||!t||!n)return CONTINUE;var a,r,o,g,i,c,s,p,x,d,m,h,u,T=Scanner.fromMessage(e);T.setLocale(t),n.isCancelled&&(c="Cancelled"),a=T.getSpan().nextText(n.guestName).nextAnyTag("td").tagContents(),i=T.getSpan().innerCapture(regExpFormatted(/\1 (\d+)/,n.confirmation),1),(x=T.getSpan().nextText(n.phone).parentAnyTag("td").tagContents())&&(m=x.innerCapture(regExpFormatted(/(.+)\s+</),1),d=x.nextLink(),u=(u=x.innerCapture(regExpFormatted(/>([\s\S]+)\1/,n.phone),1).trim()).toString().replace(/\n/g,""),h=(h=x.innerPhoneNumber()).toString().replace("\u7535\u8bdd\uff1a","").trim());var l=T.getSpan().nextRegExp(n.yourSchedule).nextAnyTag("table");return s=l.nextText(n.checkin).nextAnyTag("td").innerDate(),p=l.nextText(n.checkout).nextAnyTag("td").innerDate(),o=(g=T.getSpan().nextText(n.total).nextAnyTag("td").nextAnyTag("td").nextAnyTag("td").tagContents()).nextAnyTag("td").tagContents(),ASSERT(s,p,u)?[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:a,email:r},totalPrice:o,priceCurrency:g,checkinTime:s,checkoutTime:p,reservationStatus:"http://schema.org/Reservation"+(c||"Confirmed"),reservationId:i,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:m,url:d,telephone:h,address:u}}]:void 0}}).call();