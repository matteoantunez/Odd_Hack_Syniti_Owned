(function(){return function(r,e,a,t){var i=[];return r.forEach(function(r){"sms"!=t?ASSERT({sg_validate:e,sg_description:"reservationId"}):ASSERT(AND({sg_validate:r.airlineCode,sg_description:"airlineCode"},{sg_validate:r.flightNumber,sg_description:"flightNumber"},{sg_validate:r.departureTime,sg_description:"departureTime"},{sg_validate:r.arrivalTime,sg_description:"arrivalTime"},{sg_validate:r.departureAirportIataCode,sg_description:"departureAirportIataCode"},{sg_validate:r.arrivalAirportIataCode,sg_description:"arrivalAirportIataCode"})),r.carrierCode&&(r.carrierCode=r.carrierCode.toUpperCase()),r.operatorCarrierCode&&(r.operatorCarrierCode=r.operatorCarrierCode.toUpperCase()),i.push({"@context":"http://schema.org","@type":"FlightReservation",reservationStatus:"http://schema.org/Reservation"+a,reservationId:e,reservationFor:{"@type":"Flight",flightNumber:r.flightNumber,airline:{"@type":"Airline",name:r.carrierName,iataCode:r.carrierCode},departureTime:r.departurePublishedTime,departureTerminal:r.departureTerminal,departureGate:r.departureGate,departureAirport:{"@type":"Airport",name:r.departureAirport.name,iataCode:r.departureAirport.code,address:{"@type":"PostalAddress",addressCountry:r.departureAirport.country,addressLocality:r.departureAirport.city,addressRegion:r.departureAirport.state,postalCode:r.departureAirport.postalCode,streetAddress:r.departureAirport.street},geo:{"@type":"http://schema.org/GeoCoordinates",latitude:r.departureAirport.location.lat,longitude:r.departureAirport.location.lng}},arrivalTime:r.arrivalPublishedTime,arrivalTerminal:r.arrivalTerminal,arrivalGate:r.arrivalGate,arrivalAirport:{"@type":"Airport",name:r.arrivalAirport.name,iataCode:r.arrivalAirport.code,address:{"@type":"PostalAddress",addressCountry:r.arrivalAirport.country,addressLocality:r.arrivalAirport.city,addressRegion:r.arrivalAirport.state,postalCode:r.arrivalAirport.postalCode,streetAddress:r.arrivalAirport.street},geo:{"@type":"http://schema.org/GeoCoordinates",latitude:r.arrivalAirport.location.lat,longitude:r.arrivalAirport.location.lng}},operatedBy:{"@type":"Airline",iataCode:r.operatorCarrierCode}},underName:{"@type":"Person"},reservedTicket:{"@type":"Ticket",ticketedSeat:{"@type":"Seat"}},programMembershipUsed:{"@type":"ProgramMembership"}})}),i}}).call();