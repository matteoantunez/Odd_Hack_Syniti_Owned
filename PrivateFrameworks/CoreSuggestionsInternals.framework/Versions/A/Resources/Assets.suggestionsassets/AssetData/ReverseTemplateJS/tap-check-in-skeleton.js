(function(){return function(e,t,r){var a=Scanner.fromMessage(e);a.setLocale(t);var i,n,o,p,g,h,s,c,d,l,u,m=[];(i=a.getSpan().innerCapture(regExpFormatted(/\1\s*(.+),/,r.name),1),n=a.getSpan().next(r.reservationId).nextTag("td1").tagContents(),p=a.getSpan().next(r.checkinUrl).nextLink(),(o=a.getSpan().innerCapture(r.flightDetails))&&(g=o.$airlineCode,h=o.$flightNumber,s=o.$departureAirport,c=o.$departureAirportCode,d=o.$arrivalAirport,l=o.$arrivalAirportCode,u=a.getDetachedSpan(o.$departureTime.toString()).innerDate()),ASSERT(n,g,h,u))&&m.push({"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:"TAP Portugal",airlineCode:g,flightNumber:h,departureAirportFuzzy:s,departureAirportCode:c,departureTime:u,arrivalAirportFuzzy:d,arrivalAirportCode:l},underName:{"@type":"http://schema.org/Person",name:i},checkinUrl:p,reservationId:n,reservationStatus:"http://schema.org/ReservationConfirmed",reservedTicket:{"@type":"http://schema.org/Ticket",ticketedSeat:{"@type":"http://schema.org/Seat"}}});if(m.length)return m}}).call();