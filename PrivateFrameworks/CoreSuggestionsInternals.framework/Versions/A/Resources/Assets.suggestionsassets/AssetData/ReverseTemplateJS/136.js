new ReverseTemplateList([new ReverseTemplate("southwest-reminder-en",function(e){return/^Your Upcoming.*Itinerary/.test(e.subject)},function(e){if(/^Your Upcoming.*Itinerary/.test(e.subject)){var r="en_US",t="Confirmed",a={reservationId_prefix:/Air Confirmation/,price_prefix:/Total Air Cost/,checkinUrl_prefix:/Check In Online/,passengers_prefix:/Passenger\(s\)/};return loadHelper("southwest-reminder-skeleton.js")(e,r,a,t)}},"SG6465ea07"),new ReverseTemplate("southwest-sharing-en",function(e){return/^Ticketless Travel Passenger Itinerary/.test(e.subject)},function(e){if(/^Ticketless Travel Passenger Itinerary/.test(e.subject)){var r="en_US",t="Confirmed",a={reservationId_prefix:/AIR Confirmation\:/,checkinUrl_prefix:/Check In Online/,passengers_prefix:/Passenger\(s\)/};return loadHelper("southwest-sharing-skeleton.js")(e,r,a,t)}},"SGf48dfc03"),new ReverseTemplate("southwest.com-earlybird-confirmation-en",function(e){return/EarlyBird Confirmation/.test(e.subject)},function(e){if(/EarlyBird Confirmation/.test(e.subject)){var r,t,a=Scanner.fromMessage(e);a.setLocale("en_US");var n,i,s,o,p,m,u,l,c,g,h,d,v,b,f,T,C=[],y={},N=loadHelper("southwest.com-common.js");r=a.getSpan().innerCapture(/\bConfirmation Number: (\w+)/,1),m=a.getSpan().nextText("Departure/Arrival").parentTag("table4").allInnerTags("tr4").map(function(e){return e.allInnerTagsFiltered("td4")}),p=a.getSpan().innerCapture(/\bTotal Cost: .*?([\d,.]+)/,1);for(var A=1;A<m.length;A++)4===(s=m[A]).length&&(n=s[0],i=s[3].innerDate(),o=s[2].innerCapture(/(\d+)/,1),c=s[1].innerCapture(N.departureRegex),v=s[1].innerCapture(N.arrivalRegex),valid(c,v)&&(u=s[1].allDates(),l=c.$name.result()||c.$changeName.result()||"Southwest Airlines",h=c.$departureAirport,d=c.$departureCode,g=combineDateAndTime(i,u[0]),f=v.$arrivalAirport,T=v.$arrivalCode,b=combineDateAndTime(i,u[1])),ASSERT(n,l,o,d,g,T,b)&&(y[n.toString()]={name:n,seats:{},seatingType:{},totalPrice:p},C.push({airlineName:l,flightNumber:o,reservationId:r,departureAirport:h,departureCode:d,departureTime:g,arrivalAirport:f,arrivalCode:T,arrivalTime:b,passengers:y}),o=u=l=h=d=g=f=T=b=null,y={}));for(var S=[],k=0;k<C.length;k++)for(var x=C[k],I=Object.keys(x.passengers),w=0;w<I.length;w++){var j=x.passengers[I[w]];t={"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:x.airlineName,airlineCode:x.airlineCode||"WN",flightNumber:x.flightNumber,departureAirportFuzzy:x.departureAirport,departureAirportCode:x.departureCode,departureTime:x.departureTime,arrivalAirportFuzzy:x.arrivalAirport,arrivalAirportCode:x.arrivalCode,arrivalTime:x.arrivalTime},underName:{"@type":"http://schema.org/Person",name:j.name},reservationId:x.reservationId,reservationStatus:"http://schema.org/ReservationConfirmed",reservedTicket:{"@type":"http://schema.org/Ticket",ticketNumber:j.ticketNumber,ticketedSeat:{"@type":"http://schema.org/Seat",seatNumber:j.seats[x.flightNumber]}},totalPrice:j.totalPrice,priceCurrency:j.currency},valid(j.membershipNumber)&&(t.programMembershipUsed={"@type":"http://schema.org/ProgramMembership",membershipNumber:j.membershipNumber,programName:"Rapid Rewards"}),S.push(t)}if(S.length)return S}},"SG267c20d2"),new ReverseTemplate("southwest.com-itinerary-en",function(e){return/^Southwest Airlines Confirmation/.test(e.subject)||/^(?:(?:UPDATED|CANCELLED) )?[Ff]light reservation/.test(e.subject)||/^Ticketless Travel Passenger Itinerary/.test(e.subject)},function(e){if(/^Southwest Airlines Confirmation/.test(e.subject)||/^(?:(?:UPDATED|CANCELLED) )?[Ff]light reservation/.test(e.subject)||/^Ticketless Travel Passenger Itinerary/.test(e.subject)){var r,t,a=Scanner.fromMessage(e);a.setLocale("en_US");var n,i,s,o=[],p={},m=loadHelper("southwest.com-common.js"),u=/^CANCELLED flight reservation/.test(e.subject)?"Carryon Items:":/What you need to know to travel:/.test(e.plain)?"What you need to know to travel:":"Carry-on Items";/^CANCELLED flight reservation/.test(e.subject)&&(r="Cancelled"),i=a.getSpan().nextText("Total Air Cost").nextTag("td5").nextTag("td5").tagContents();for(var l=a.getSpan();l.nextText("AIR Itinerary").exists();){p={},s=(l=l.nextText("AIR Itinerary").withEnd(l.nextText(u).getEnd())).innerText("Passenger(s)").nextTag("table4").withEnd(l.innerText("Departure/Arrival").parentTag("table4").getStart()).allInnerTags("table4").map(function(e){return e.allInnerTagsFiltered("td4")}).filter(function(e){return e.length>=1&&e[0].innerCapture(/^[A-Z\/\s]+$/)});for(var c,g=0;c=s[g++];)p[n=c[0].toString()]={name:n,membershipNumber:c[1]&&c[1].innerCapture(/^(\d+)/,1),ticketNumber:c[2],totalPrice:i,seats:{},seatingType:{}};m.addFlightLegs(o,p,u,l),l=l.collapseToEnd()}var h=[];for(g=0;g<o.length;g++)for(var d=o[g],v=Object.keys(d.passengers),b=0;b<v.length;b++){var f=d.passengers[v[b]];t={"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:d.airlineName,airlineCode:d.airlineCode||"WN",flightNumber:d.flightNumber,departureAirportFuzzy:d.departureAirport,departureAirportCode:d.departureCode,departureTime:d.departureTime,arrivalAirportFuzzy:d.arrivalAirport,arrivalAirportCode:d.arrivalCode,arrivalTime:d.arrivalTime},underName:{"@type":"http://schema.org/Person",name:f.name},reservationId:d.reservationId,reservationStatus:"http://schema.org/Reservation"+(r||"Confirmed"),reservedTicket:{"@type":"http://schema.org/Ticket",ticketNumber:f.ticketNumber,ticketedSeat:{"@type":"http://schema.org/Seat",seatNumber:f.seats[d.flightNumber]}},totalPrice:f.totalPrice,priceCurrency:f.currency},not(f.membershipNumber)||(t.programMembershipUsed={"@type":"http://schema.org/ProgramMembership",membershipNumber:f.membershipNumber,programName:"Rapid Rewards"}),h.push(t)}if(h.length)return h}},"SGc18e9966"),new ReverseTemplate("southwest.com-trip-reminder-en",function(e){return/^Your trip is around the corner!/.test(e.subject)||/^Your Upcoming .*? Itinerary/.test(e.subject)},function(e){if(/^Your trip is around the corner!/.test(e.subject)||/^Your Upcoming .*? Itinerary/.test(e.subject)){var r,t=Scanner.fromMessage(e);t.setLocale("en_US");var a,n=[],i={},s=loadHelper("southwest.com-common.js");a=t.getSpan().nextText("Passenger(s)").nextTag("table4").withEnd(t.getSpan().nextText("Departure/Arrival").parentTag("table4").getStart()).allInnerTags("table4").map(function(e){return e.allInnerTags("td4").map(function(e){return e.tagContents()}).filter(function(e){return e.getLength()})}).filter(function(e){return e.length>=1}).map(function(e){return e[e.length-1]});for(var o,p=0;o=a[p++];)i[o=o.toString()]={name:o,seats:{},seatingType:{}};var m=/What you need to know to travel:/.test(e.plain)?"What you need to know to travel:":"Carry-on Items";s.addFlightLegs(n,i,m,t.getSpan());var u=[];for(p=0;p<n.length;p++)for(var l=n[p],c=Object.keys(l.passengers),g=0;g<c.length;g++){var h=l.passengers[c[g]];r={"@context":"http://schema.org","@type":"http://schema.org/FlightReservation",reservationFor:{"@type":"http://apple.com/FuzzyFlight",airlineName:l.airlineName,airlineCode:l.airlineCode||"WN",flightNumber:l.flightNumber,departureAirportFuzzy:l.departureAirport,departureAirportCode:l.departureCode,departureTime:l.departureTime,arrivalAirportFuzzy:l.arrivalAirport,arrivalAirportCode:l.arrivalCode,arrivalTime:l.arrivalTime},underName:{"@type":"http://schema.org/Person",name:h.name},reservationId:l.reservationId,reservationStatus:"http://schema.org/ReservationConfirmed",reservedTicket:{"@type":"http://schema.org/Ticket",ticketNumber:h.ticketNumber,ticketedSeat:{"@type":"http://schema.org/Seat",seatNumber:h.seats[l.flightNumber]}},totalPrice:h.totalPrice,priceCurrency:h.currency},not(h.membershipNumber)||(r.programMembershipUsed={"@type":"http://schema.org/ProgramMembership",membershipNumber:h.membershipNumber,programName:"Rapid Rewards"}),u.push(r)}if(u.length)return u}},"SGe58d4b15")]);