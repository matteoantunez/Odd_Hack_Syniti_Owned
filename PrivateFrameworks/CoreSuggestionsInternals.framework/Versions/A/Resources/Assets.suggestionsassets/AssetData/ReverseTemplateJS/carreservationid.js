(function(){return function(e,t,n,r){var i,s,a,o=t.getNullSpan(),d=t.getNullSpan();for(a=/^([A-Z\d-]{6,}|\d+[a-z]{2}\d+|[A-Za-z\d-]{10,})$/,i=0;i<e.reservationId.length&&!o.exists();i++)for(s=t.getSpan().next(e.reservationId[i]);s.exists();){if((d=s.innerCapture(e.reservationId[i],1)).exists()&&a.test(d.toString().trim())){o=d;break}s=s.next(e.reservationId[i])}if(!o.exists())for(i=0;i<e.altReservationId.length&&!o.exists();i++)for(s=t.getSpan().next(e.altReservationId[i]);s.exists();){if((f=s.nextAnyTag("td")).exists()&&(d=f.tagContents().trim().innerCapture(a,1)).exists()&&d.getStart()-s.getEnd()<144){o=d;break}s=s.next(e.altReservationId[i])}if(n&&"undefined"!=typeof e.reservationIdInSubject)for(i=0;i<e.reservationIdInSubject.length&&!o.exists();i++)o=t.getDetachedSpan(n).innerCapture(e.reservationIdInSubject[i],1);if(r&&"undefined"!=typeof e.reservationIdInURL){var I=t.getDetachedSpan(r);for(i=0;i<e.reservationIdInURL.length&&!o.exists();i++)(d=I.innerCapture(e.reservationIdInURL[i],1)).exists()&&0!==d&&(o=d)}for(i=0;i<e.reservationId.length&&!o.exists();i++)for(s=t.getSpan().next(e.reservationId[i]);s.exists();){if((d=s.innerCapture(e.reservationId[i],1)).exists()&&a.test(d.toString().trim())){o=d;break}s=s.next(e.reservationId[i])}if(!o.exists())for(i=0;i<e.altReservationId.length&&!o.exists();i++)for(s=t.getSpan().next(e.altReservationId[i]);s.exists();){var f;if((f=s.nextAnyTag("td")).exists()&&(d=f.tagContents().trim().innerCapture(a,1)).exists()&&d.getStart()-s.getEnd()<144){o=d;break}s=s.next(e.altReservationId[i])}if(n&&"undefined"!=typeof e.reservationIdInSubject)for(i=0;i<e.reservationIdInSubject.length&&!o.exists();i++)o=t.getDetachedSpan(n).innerCapture(e.reservationIdInSubject[i],1);if(r&&"undefined"!=typeof e.reservationIdInURL){I=t.getDetachedSpan(r);for(i=0;i<e.reservationIdInURL.length&&!o.exists();i++)(d=I.innerCapture(e.reservationIdInURL[i],1)).exists()&&0!==d&&(o=d)}return o}}).call();