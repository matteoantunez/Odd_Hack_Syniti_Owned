(function(){return function(e,t,r){var n,a,i,o,p,m,g,s,c,h,u,x=Scanner.fromMessage(e);x.setLocale(t),n=x.getSpan().innerCapture(regExpFormatted(/\1 (.+),/,r.namePrefix),1).trim(),p=x.getSpan().innerCapture(regExpFormatted(/\1: (\w+)/,r.bookingNumberPrefix),1).trim();var d=x.getSpan().nextText(r.travellerDetails);d.nextPhoneNumber(),a=d.nextLink(),u=(s=x.getSpan().innerCapture(regExpFormatted(/(.+) - \1/,r.hotelNamePrefix),1).trim()).nextLink(),h=s.nextAddress(),c=s.nextPhoneNumber();var l=x.getSpan().innerCapture(regExpFormatted(/\1: (.+)/,r.checkInPrefix),1);l=l.split(r.from),m=x.getDetachedSpan(l[0]+l[1].trim());var S=x.getSpan().innerCapture(regExpFormatted(/\1: (.+)/,r.checkOutPrefix),1);S=S.split(r.by),g=x.getDetachedSpan(S[0]+S[1].trim());var v=x.getSpan().nextText(r.tripTotal).nextTag("td1").tagContents().trim(),C=v.split(" ");return 2===C.length?(o=C[1].innerCapture(/([^\s\d,\.])/,1),o=C[0]+" "+o):o=v.innerCapture(/([^\s\d,\.])/,1),i=x.getDetachedSpan(v.toString().replace(o,"").trim()),ASSERT(h,m)?[{"@context":"http://schema.org","@type":"http://schema.org/LodgingReservation",underName:{"@type":"http://schema.org/Person",name:n,email:a},totalPrice:i,priceCurrency:o,checkinTime:m,checkoutTime:g,reservationStatus:"http://schema.org/ReservationConfirmed",reservationId:p,reservationFor:{"@type":"http://schema.org/LodgingBusiness",name:s,telephone:c,address:h,url:u}}]:CONTINUE}}).call();