(function(){return function(e,t,a){var r,n,o,p,i,c,s,m,u,l,d,g,h,f,S,v,C,y,R,k,$=Scanner.fromMessage(e);if($.setLocale(t),a.confirmSubject.test(e.subject)){o=$.getSpan().innerCapture(a.reservationId,1),r=$.getSpan().innerCapture(a.guestName,1);var b=$.getSpan().next(a.locations).innerCapture(a.locations);y=b.$pickupLocation,f=b.$dropoffLocation;var L=$.getSpan().next(a.dates).innerCapture(a.dates);k=$.getDetachedSpan(L.$pickupDate+" "+L.$pickupTime),v=$.getDetachedSpan(L.$dropoffDate+" "+L.$dropoffTime),l=$.getSpan().innerCapture(a.car,1);var T=$.getSpan().innerCapture(a.price,1);m=T.innerCapture(/([\d,.]+)/,1),u=T.innerCapture(/([^\d,.]+)/,1).trim()}else a.cancellationSubject.test(e.subject)&&(r=$.getSpan().innerCapture(a.cancelGuestName,1).trim(),o=$.getSpan().innerCapture(a.cancelReservationId,1).trim(),p="Cancelled");if(ASSERT(r,o)){var j={"@context":"http://schema.org","@type":"http://schema.org/RentalCarReservation",totalPrice:m,priceCurrency:u,reservationId:o,reservationStatus:"http://schema.org/Reservation"+(p||"Confirmed"),checkinUrl:i,modifyReservationUrl:c,cancelReservationUrl:s,underName:{"@type":"http://schema.org/Person",name:r,email:n},provider:{"@type":"http://schema.org/Organization",name:"Europcar"},pickupTime:k,pickupLocation:{"@type":"http://schema.org/Place",name:C,telephone:R,address:y},dropoffTime:v,dropoffLocation:{"@type":"http://schema.org/Place",name:h,telephone:S,address:f}};return l&&(j.reservationFor={"@type":"http://schema.org/Car",brand:{"@type":"http://schema.org/Organization",name:l},license:d,color:g}),[j]}}}).call();